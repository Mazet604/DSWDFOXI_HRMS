import{s as O,x as U,y as P,q as p,l as v,o as n,m as w,w as m,b as e,n as E,a as g,t as c,g as d,v as r,z as f,c as a,A as b,F as h,B as T,C,f as x,p as I,h as N}from"./app-K5pLMrFh.js";import{A as D}from"./AppLayout-FWdqlDYm.js";import{_ as B}from"./_plugin-vue_export-helper-DlAUqK2U.js";const V={components:{AppLayout:D,Button:O,TabView:U,TabPanel:P},data(){return{fullName:"",empPosition:"",fields:{empUser:"",empID:"",firstName:"",middleName:"",lastName:"",suffix:"",citizenship:"",birthday:"",placeOfBirth:"",sex:"",civilStatus:"",height:"",weight:"",bloodType:"",zipcode:"",block:"",villsub:"",mobilenum:"",telnum:"",emailadd:"",pass:"",selectedRegion:"",selectedProvince:"",selectedCity:"",selectedBarangay:"",country:""},isEditing:!1,originalFields:{},errorMessage:"",showUpdateDialog:!1,showSuccessDialog:!1,sexOptions:[],civilStatusOptions:[],bloodTypeOptions:[],extOptions:[],selectedRegionOptions:[],selectedProvinceOptions:[],selectedCityOptions:[],selectedBarangayOptions:[],activeTab:0,activeSubTab:"",searchQuery:""}},methods:{async fetchSexOptions(){try{const i=await fetch("/dropdown/sex-options");if(!i.ok)throw new Error("Failed to fetch sex options");this.sexOptions=await i.json()}catch(i){console.error(i)}},async fetchCivilStatusOptions(){try{const i=await fetch("/dropdown/civilstatus-options");if(!i.ok)throw new Error("Failed to fetch civil status options");this.civilStatusOptions=await i.json()}catch(i){console.error(i)}},async fetchBloodTypeOptions(){try{const i=await fetch("/dropdown/bloodtype-options");if(!i.ok)throw new Error("Failed to fetch blood type options");this.bloodTypeOptions=await i.json()}catch(i){console.error(i)}},async fetchExtOptions(){try{const i=await fetch("/dropdown/ext-options");if(!i.ok)throw new Error("Failed to fetch suffix options");this.extOptions=await i.json()}catch(i){console.error(i)}},async fetchSelectedRegionOptions(){try{const i=await p.get("http://127.0.0.1:8000/api/selectedregion-options");this.selectedRegionOptions=i.data}catch{this.errorMessage="Failed to load regions."}},async fetchSelectedProvinceOptions(){try{const i=await p.get("http://127.0.0.1:8000/api/selectedprovince-options");this.selectedProvinceOptions=i.data}catch{this.errorMessage="Failed to load provinces."}},async fetchSelectedCityOptions(){try{const i=await p.get("http://127.0.0.1:8000/api/selectedcity-options");this.selectedCityOptions=i.data}catch{this.errorMessage="Failed to load cities."}},async fetchSelectedBarangayOptions(){try{const i=await p.get("http://127.0.0.1:8000/api/selectedbarangay-options");this.selectedBarangayOptions=i.data}catch{this.errorMessage="Failed to load barangays."}},async fetchFullName(){try{const i=await p.get("http://127.0.0.1:8000/employee/fullname");this.fullName=i.data.fullName,this.empPosition=i.data.empPosition}catch(i){i.response&&i.response.status===500?this.errorMessage="Internal Server Error. Please try again later.":this.errorMessage="An error occurred. Please try again."}},async fetchPersonalInfo(){try{const i=await p.get("http://127.0.0.1:8000/employee/PersonalInfo");this.fields.empUser=i.data.empUser,this.fields.empID=i.data.empID,this.fields.firstName=i.data.firstName,this.fields.middleName=i.data.middleName,this.fields.lastName=i.data.lastName,this.fields.suffix=i.data.suffix,this.fields.citizenship=i.data.citizenship,this.fields.birthday=i.data.birthday,this.fields.placeOfBirth=i.data.placeOfBirth,this.fields.sex=i.data.sex,this.fields.civilStatus=i.data.civilStatus,this.fields.height=i.data.height,this.fields.weight=i.data.weight,this.fields.bloodType=i.data.bloodType}catch(i){i.response&&i.response.status===500?this.errorMessage="Internal Server Error. Please try again later.":this.errorMessage="An error occurred. Please try again."}},async fetchAddress(){try{const i=await p.get("http://127.0.0.1:8000/api/Address");this.fields.selectedRegion=i.data.selectedRegion,this.fields.selectedProvince=i.data.selectedProvince,this.fields.selectedCity=i.data.selectedCity,this.fields.selectedBarangay=i.data.selectedBarangay,this.fields.country=i.data.country}catch(i){i.response&&i.response.status===500?this.errorMessage="Internal Server Error. Please try again later.":this.errorMessage="An error occurred. Please try again."}},async fetchSecurityandContact(){try{const i=await p.get("http://127.0.0.1:8000/employee/SecurityandContact");this.fields.mobilenum=i.data.mobilenum,this.fields.telnum=i.data.telnum,this.fields.emailadd=i.data.emailadd,this.fields.pass=i.data.pass}catch(i){i.response&&i.response.status===500?this.errorMessage="Internal Server Error. Please try again later.":this.errorMessage="An error occurred. Please try again."}},toggleEditing(){this.isEditing||(this.originalFields=JSON.parse(JSON.stringify(this.fields))),this.isEditing=!this.isEditing},cancelEditing(){this.fields=JSON.parse(JSON.stringify(this.originalFields)),this.isEditing=!1},confirmUpdate(){this.showUpdateDialog=!0},hideUpdateDialog(){this.showUpdateDialog=!1},hideSuccessDialog(){this.showSuccessDialog=!1},async saveProfile(){try{await p.patch("http://127.0.0.1:8000/employee/updateProfile",this.fields),this.isEditing=!1,this.showUpdateDialog=!1,this.showSuccessDialog=!0}catch{this.errorMessage="Failed to update profile. Please try again.",this.showUpdateDialog=!1}},search(){const i=this.searchQuery.toLowerCase();i.includes("personal info")?(this.activeSubTab="personal",this.activeTab=0):i.includes("address")?(this.activeSubTab="address",this.activeTab=1):i.includes("security")?(this.activeSubTab="security",this.activeTab=2):alert("No matching tab found.")}},mounted(){this.fetchFullName(),this.fetchPersonalInfo(),this.fetchSecurityandContact(),this.fetchAddress()},created(){this.fetchSexOptions(),this.fetchCivilStatusOptions(),this.fetchBloodTypeOptions(),this.fetchExtOptions(),this.fetchSelectedRegionOptions(),this.fetchSelectedProvinceOptions(),this.fetchSelectedCityOptions(),this.fetchSelectedBarangayOptions()}},o=i=>(I("data-v-1412f521"),i=i(),N(),i),A={class:"grid w-full grid-cols-1 gap-4 md:grid-cols-2 lg:grid-cols-3"},M={class:"relative col-span-1"},R=o(()=>e("i",{class:"text-4xl text-white fas fa-eye"},null,-1)),F=[R],L={class:"col-span-1 md:col-span-2"},z={class:"mb-4 text-3xl font-bold lg:text-5xl"},H={class:"mb-4 text-gray-600"},j={class:"border-box"},Y={class:"grid grid-cols-1 gap-4 md:grid-cols-2"},G=o(()=>e("label",{class:"block mb-2 text-sm font-bold text-gray-700"},"USER NAME",-1)),J=o(()=>e("label",{class:"block mb-2 text-sm font-bold text-gray-700"},"EMPLOYEE ID",-1)),K=o(()=>e("label",{class:"block mb-2 text-sm font-bold text-gray-700"},"FIRST NAME",-1)),Q=["disabled"],W=o(()=>e("label",{class:"block mb-2 text-sm font-bold text-gray-700"},"MIDDLE NAME",-1)),X=["disabled"],Z=o(()=>e("label",{class:"block mb-2 text-sm font-bold text-gray-700"},"LAST NAME",-1)),q=["disabled"],$=o(()=>e("label",{class:"block mb-2 text-sm font-bold text-gray-700"},"SUFFIX",-1)),ee=["disabled"],se=["value"],te=o(()=>e("label",{class:"block mb-2 text-sm font-bold text-gray-700"},"CITIZENSHIP",-1)),ie=["disabled"],le=o(()=>e("label",{class:"block mb-2 text-sm font-bold text-gray-700"},"BIRTHDAY",-1)),oe=["disabled"],de=o(()=>e("label",{class:"block mb-2 text-sm font-bold text-gray-700"},"PLACE OF BIRTH",-1)),ne=["disabled"],ae=o(()=>e("label",{class:"block mb-2 text-sm font-bold text-gray-700"},"SEX",-1)),re=["disabled"],ce=["value"],ue=o(()=>e("label",{class:"block mb-2 text-sm font-bold text-gray-700"},"CIVIL STATUS",-1)),pe=["disabled"],fe=["value"],be=o(()=>e("label",{class:"block mb-2 text-sm font-bold text-gray-700"},"HEIGHT(M)",-1)),he=["disabled"],ge=o(()=>e("label",{class:"block mb-2 text-sm font-bold text-gray-700"},"WEIGHT(KG)",-1)),me=["disabled"],ye=o(()=>e("label",{class:"block mb-2 text-sm font-bold text-gray-700"},"BLOOD TYPE",-1)),ve=["disabled"],xe=["value"],_e={class:"grid grid-cols-1 gap-4 md:grid-cols-2"},we=o(()=>e("label",{class:"block mb-2 text-sm font-bold text-gray-700"},"COUNTRY",-1)),Ee=["disabled"],Se=o(()=>e("label",{class:"block mb-2 text-sm font-bold text-gray-700"},"REGION",-1)),ke=["disabled"],Oe=["value"],Ue=o(()=>e("label",{class:"block mb-2 text-sm font-bold text-gray-700"},"PROVINCE",-1)),Pe=["disabled"],Te=["value"],Ce=o(()=>e("label",{class:"block mb-2 text-sm font-bold text-gray-700"},"CITY",-1)),Ie=["disabled"],Ne=["value"],De=o(()=>e("label",{class:"block mb-2 text-sm font-bold text-gray-700"},"ZIP CODE",-1)),Be=["disabled"],Ve=o(()=>e("label",{class:"block mb-2 text-sm font-bold text-gray-700"},"BLOCK/STREET/PUROK",-1)),Ae=["disabled"],Me=o(()=>e("label",{class:"block mb-2 text-sm font-bold text-gray-700"},"VILLAGE SUBDIVISION",-1)),Re=["disabled"],Fe=o(()=>e("label",{class:"block mb-2 text-sm font-bold text-gray-700"},"BARANGAY",-1)),Le=["disabled"],ze=["value"],He={class:"grid grid-cols-1 gap-4 md:grid-cols-2"},je=o(()=>e("label",{class:"block mb-2 text-sm font-bold text-gray-700"},"MOBILE NUMBER",-1)),Ye=["disabled"],Ge=o(()=>e("label",{class:"block mb-2 text-sm font-bold text-gray-700"},"TELEPHONE NUMBER",-1)),Je=["disabled"],Ke=o(()=>e("label",{class:"block mb-2 text-sm font-bold text-gray-700"},"EMAIL ADDRESS",-1)),Qe=["disabled"],We=o(()=>e("label",{class:"block mb-2 text-sm font-bold text-gray-700"},"PASSWORD",-1)),Xe=["type","disabled"],Ze={class:"mt-2"},qe=["disabled"],$e=o(()=>e("label",{for:"showPassword",class:"ml-2 text-sm font-bold text-gray-700"},"Show Password",-1)),es={key:1,class:"float-right mt-6 space-x-4"},ss={key:0,class:"fixed inset-0 z-50 flex items-center justify-center bg-gray-800 bg-opacity-75"},ts={class:"w-full max-w-lg overflow-hidden transition-all transform bg-white rounded-lg"},is={class:"p-4"},ls=o(()=>e("div",{class:"text-center"},[e("i",{class:"mb-4 text-4xl fas fa-exclamation-triangle",style:{color:"red"}}),e("h2",{class:"mb-4 text-xl font-semibold"},"Are you sure you want to update?"),e("p",{class:"mb-4"},"If you are certain, click 'Confirm' to proceed. Otherwise, click 'Cancel' to go back and review the information.")],-1)),os={class:"flex justify-center gap-4"},ds={key:1,class:"fixed inset-0 z-50 flex items-center justify-center bg-gray-800 bg-opacity-75"},ns={class:"w-full max-w-lg overflow-hidden transition-all transform bg-white rounded-lg"},as={class:"p-4"},rs=o(()=>e("div",{class:"text-center"},[e("i",{class:"mb-4 text-4xl fas fa-check-circle",style:{color:"green"}}),e("h2",{class:"mb-4 text-xl font-semibold"},"Updated Successfully!"),e("p",{class:"mb-4"},"Details have been successfully updated. Press 'Back' to continue.")],-1)),cs={class:"flex justify-center"};function us(i,l,ps,fs,t,u){const y=v("Button"),_=v("TabPanel"),S=v("TabView"),k=v("AppLayout");return n(),w(k,null,{default:m(()=>[e("div",A,[e("div",M,[e("div",{class:"relative group",onMouseenter:l[1]||(l[1]=s=>i.isHovered=!0),onMouseleave:l[2]||(l[2]=s=>i.isHovered=!1)},[e("img",{alt:"Profile Picture",class:E(["w-full rounded-lg",{"blur-md":!i.isUnblurred}]),height:"300",src:"/images/profile-picture.webp",width:"300"},null,2),e("div",{class:E(["absolute inset-0 flex items-center justify-center transition-opacity duration-300",{"opacity-0":!i.isHovered,"opacity-100":i.isHovered}])},[e("button",{onClick:l[0]||(l[0]=(...s)=>i.toggleBlur&&i.toggleBlur(...s)),class:"p-2 bg-gray-800 bg-opacity-75 rounded-full"},F)],2)],32),g(y,{label:"Upload Photo",class:"w-full py-2 mt-4 text-white rounded-lg bg-gradient-to-r from-pink-500 to-purple-500"})]),e("div",L,[e("h1",z,c(t.fullName),1),e("p",H,c(t.empPosition),1),e("div",j,[g(S,{activeIndex:t.activeTab,"onUpdate:activeIndex":l[30]||(l[30]=s=>t.activeTab=s),class:"no-background"},{default:m(()=>[g(_,{header:"PERSONAL INFO",active:t.activeSubTab==="personal"},{default:m(()=>[e("div",Y,[e("div",null,[G,d(e("input",{type:"text",class:"input-field text-color","onUpdate:modelValue":l[3]||(l[3]=s=>t.fields.empUser=s),disabled:""},null,512),[[r,t.fields.empUser]])]),e("div",null,[J,d(e("input",{type:"text",class:"input-field text-color","onUpdate:modelValue":l[4]||(l[4]=s=>t.fields.empID=s),disabled:""},null,512),[[r,t.fields.empID]])]),e("div",null,[K,d(e("input",{type:"text",class:"input-field","onUpdate:modelValue":l[5]||(l[5]=s=>t.fields.firstName=s),disabled:!t.isEditing},null,8,Q),[[r,t.fields.firstName]])]),e("div",null,[W,d(e("input",{type:"text",class:"input-field","onUpdate:modelValue":l[6]||(l[6]=s=>t.fields.middleName=s),disabled:!t.isEditing},null,8,X),[[r,t.fields.middleName]])]),e("div",null,[Z,d(e("input",{type:"text",class:"input-field","onUpdate:modelValue":l[7]||(l[7]=s=>t.fields.lastName=s),disabled:!t.isEditing},null,8,q),[[r,t.fields.lastName]])]),e("div",null,[$,d(e("select",{class:"input-field","onUpdate:modelValue":l[8]||(l[8]=s=>t.fields.suffix=s),disabled:!t.isEditing},[(n(!0),a(h,null,b(t.extOptions,s=>(n(),a("option",{key:s.value,value:s.value},c(s.label),9,se))),128))],8,ee),[[f,t.fields.suffix]])]),e("div",null,[te,d(e("input",{type:"text",class:"input-field","onUpdate:modelValue":l[9]||(l[9]=s=>t.fields.citizenship=s),disabled:!t.isEditing},null,8,ie),[[r,t.fields.citizenship]])]),e("div",null,[le,d(e("input",{type:"date",class:"input-field","onUpdate:modelValue":l[10]||(l[10]=s=>t.fields.birthday=s),disabled:!t.isEditing},null,8,oe),[[r,t.fields.birthday]])]),e("div",null,[de,d(e("input",{type:"text",class:"input-field","onUpdate:modelValue":l[11]||(l[11]=s=>t.fields.placeOfBirth=s),disabled:!t.isEditing},null,8,ne),[[r,t.fields.placeOfBirth]])]),e("div",null,[ae,d(e("select",{class:"input-field","onUpdate:modelValue":l[12]||(l[12]=s=>t.fields.sex=s),disabled:!t.isEditing},[(n(!0),a(h,null,b(t.sexOptions,s=>(n(),a("option",{key:s.value,value:s.value},c(s.label),9,ce))),128))],8,re),[[f,t.fields.sex]])]),e("div",null,[ue,d(e("select",{class:"input-field","onUpdate:modelValue":l[13]||(l[13]=s=>t.fields.civilStatus=s),disabled:!t.isEditing},[(n(!0),a(h,null,b(t.civilStatusOptions,s=>(n(),a("option",{key:s.value,value:s.value},c(s.label),9,fe))),128))],8,pe),[[f,t.fields.civilStatus]])]),e("div",null,[be,d(e("input",{type:"number",step:"0.01",class:"input-field","onUpdate:modelValue":l[14]||(l[14]=s=>t.fields.height=s),disabled:!t.isEditing},null,8,he),[[r,t.fields.height]])]),e("div",null,[ge,d(e("input",{type:"number",class:"input-field","onUpdate:modelValue":l[15]||(l[15]=s=>t.fields.weight=s),disabled:!t.isEditing},null,8,me),[[r,t.fields.weight]])]),e("div",null,[ye,d(e("select",{class:"input-field","onUpdate:modelValue":l[16]||(l[16]=s=>t.fields.bloodType=s),disabled:!t.isEditing},[(n(!0),a(h,null,b(t.bloodTypeOptions,s=>(n(),a("option",{key:s.value,value:s.value},c(s.label),9,xe))),128))],8,ve),[[f,t.fields.bloodType]])])])]),_:1},8,["active"]),g(_,{header:"ADDRESS",active:t.activeSubTab==="address"},{default:m(()=>[e("div",_e,[e("div",null,[we,d(e("input",{type:"text",class:"input-field","onUpdate:modelValue":l[17]||(l[17]=s=>t.fields.country=s),disabled:!t.isEditing},null,8,Ee),[[r,t.fields.country]])]),e("div",null,[Se,d(e("select",{class:"input-field","onUpdate:modelValue":l[18]||(l[18]=s=>t.fields.selectedRegion=s),disabled:!t.isEditing},[(n(!0),a(h,null,b(t.selectedRegionOptions,s=>(n(),a("option",{key:s.value,value:s.value},c(s.label),9,Oe))),128))],8,ke),[[f,t.fields.selectedRegion]])]),e("div",null,[Ue,d(e("select",{class:"input-field","onUpdate:modelValue":l[19]||(l[19]=s=>t.fields.selectedProvince=s),disabled:!t.isEditing},[(n(!0),a(h,null,b(t.selectedProvinceOptions,s=>(n(),a("option",{key:s.value,value:s.value},c(s.label),9,Te))),128))],8,Pe),[[f,t.fields.selectedProvince]])]),e("div",null,[Ce,d(e("select",{class:"input-field","onUpdate:modelValue":l[20]||(l[20]=s=>t.fields.selectedCity=s),disabled:!t.isEditing},[(n(!0),a(h,null,b(t.selectedCityOptions,s=>(n(),a("option",{key:s.value,value:s.value},c(s.label),9,Ne))),128))],8,Ie),[[f,t.fields.selectedCity]])]),e("div",null,[De,d(e("input",{type:"text",class:"input-field","onUpdate:modelValue":l[21]||(l[21]=s=>t.fields.zipcode=s),disabled:!t.isEditing},null,8,Be),[[r,t.fields.zipcode]])]),e("div",null,[Ve,d(e("input",{type:"text",class:"input-field","onUpdate:modelValue":l[22]||(l[22]=s=>t.fields.block=s),disabled:!t.isEditing},null,8,Ae),[[r,t.fields.block]])]),e("div",null,[Me,d(e("input",{type:"text",class:"input-field","onUpdate:modelValue":l[23]||(l[23]=s=>t.fields.villsub=s),disabled:!t.isEditing},null,8,Re),[[r,t.fields.villsub]])]),e("div",null,[Fe,d(e("select",{class:"input-field","onUpdate:modelValue":l[24]||(l[24]=s=>t.fields.selectedBarangay=s),disabled:!t.isEditing},[(n(!0),a(h,null,b(t.selectedBarangayOptions,s=>(n(),a("option",{key:s.value,value:s.value},c(s.label),9,ze))),128))],8,Le),[[f,t.fields.selectedBarangay]])])])]),_:1},8,["active"]),g(_,{header:"SECURITY & CONTACT DETAILS",active:t.activeSubTab==="security"},{default:m(()=>[e("div",He,[e("div",null,[je,d(e("input",{type:"text",class:"input-field","onUpdate:modelValue":l[25]||(l[25]=s=>t.fields.mobilenum=s),disabled:!t.isEditing},null,8,Ye),[[r,t.fields.mobilenum]])]),e("div",null,[Ge,d(e("input",{type:"text",class:"input-field","onUpdate:modelValue":l[26]||(l[26]=s=>t.fields.telnum=s),disabled:!t.isEditing},null,8,Je),[[r,t.fields.telnum]])]),e("div",null,[Ke,d(e("input",{type:"text",class:"input-field","onUpdate:modelValue":l[27]||(l[27]=s=>t.fields.emailadd=s),disabled:!t.isEditing},null,8,Qe),[[r,t.fields.emailadd]])]),e("div",null,[We,d(e("input",{type:i.showPassword?"text":"password",class:"input-field","onUpdate:modelValue":l[28]||(l[28]=s=>t.fields.pass=s),disabled:!t.isEditing},null,8,Xe),[[T,t.fields.pass]]),e("div",Ze,[d(e("input",{type:"checkbox",id:"showPassword","onUpdate:modelValue":l[29]||(l[29]=s=>i.showPassword=s),disabled:!t.isEditing},null,8,qe),[[C,i.showPassword]]),$e])])])]),_:1},8,["active"])]),_:1},8,["activeIndex"])]),t.isEditing?x("",!0):(n(),w(y,{key:0,label:"UPDATE",class:"float-right px-8 py-2 mt-6 text-white bg-green-500 rounded-lg update-button",onClick:u.toggleEditing},null,8,["onClick"])),t.isEditing?(n(),a("div",es,[g(y,{label:"CANCEL",class:"px-8 py-2 text-white rounded-lg custom-cancel-button",onClick:u.cancelEditing},null,8,["onClick"]),g(y,{label:"SAVE",class:"px-8 py-2 text-white bg-blue-500 rounded-lg update-button",onClick:u.confirmUpdate},null,8,["onClick"])])):x("",!0)])]),t.showUpdateDialog?(n(),a("div",ss,[e("div",ts,[e("div",is,[ls,e("div",os,[e("button",{onClick:l[31]||(l[31]=(...s)=>u.hideUpdateDialog&&u.hideUpdateDialog(...s)),class:"px-4 py-2 text-gray-700 bg-gray-300 rounded hover:bg-gray-400"}," Cancel "),e("button",{onClick:l[32]||(l[32]=(...s)=>u.saveProfile&&u.saveProfile(...s)),class:"px-4 py-2 text-white bg-red-600 rounded hover:bg-red-700"}," Confirm ")])])])])):x("",!0),t.showSuccessDialog?(n(),a("div",ds,[e("div",ns,[e("div",as,[rs,e("div",cs,[e("button",{onClick:l[33]||(l[33]=(...s)=>u.hideSuccessDialog&&u.hideSuccessDialog(...s)),class:"px-4 py-2 text-white bg-blue-600 rounded hover:bg-blue-700"}," Back ")])])])])):x("",!0)]),_:1})}const ms=B(V,[["render",us],["__scopeId","data-v-1412f521"]]);export{ms as default};
