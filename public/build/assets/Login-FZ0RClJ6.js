import{bU as h,a_ as _,o as u,c as d,X as r,bo as t,b as s,t as V,M as m,bO as k,n as p,L as P,bK as c,F as S,bV as B,d as g,bW as N}from"./app-D8ApERZR.js";import{d as f}from"./index-Cj2LFCTs.js";import{a as b,_ as x}from"./InputError-BDigjo80.js";import{_ as v}from"./InputLabel-3MMVn9br.js";import{P as q}from"./PrimaryButton-DIljoyl6.js";import"./_plugin-vue_export-helper-DlAUqK2U.js";const L={class:"flex items-center justify-center min-h-screen bg-center bg-cover",style:{"background-image":"url('/images/backgrounddswd.png')"}},C={class:"w-full max-w-xs p-4 bg-white border rounded-lg shadow-md sm:p-6 lg:p-8 sm:max-w-md lg:max-w-lg border-grey-400"},I={key:0,class:"mb-4 text-sm font-medium text-blue-600"},R={class:"relative"},U={class:"relative mt-1"},j={class:"relative mt-4"},D={class:"relative mt-1"},F={class:"flex items-center justify-between mt-8"},z={__name:"Login",props:{canResetPassword:{type:Boolean,default:!0},status:{type:String,default:""}},setup(n){const o=h({empuser:"",emppass:""}),l=_(!1),y=()=>{l.value=!l.value},w=()=>{o.post(route("login"),{onSuccess:a=>{console.log("Server response:",a),a.props.otp_required?(console.log("OTP is required"),f.Inertia.visit(route("otp.form"),{method:"get",data:{context:"login"}})):(console.log("Redirecting to dashboard"),f.Inertia.visit(route("dashboard")))},onError:a=>{console.error("Login error:",a)}})};return(a,e)=>(u(),d(S,null,[r(t(B),{title:"Log in"}),s("div",L,[s("div",C,[e[5]||(e[5]=s("div",{class:"flex justify-center mb-6 lg:mb-8"},[s("img",{src:"/images/dswd-logo1.png",alt:"DSWD Logo",class:"h-20 lg:h-40"})],-1)),e[6]||(e[6]=s("hr",{class:"my-4 border-gray-300"},null,-1)),e[7]||(e[7]=s("div",{class:"mb-4 text-xl font-semibold text-center lg:text-2xl"},"Human Resource Management System",-1)),n.status?(u(),d("div",I,V(n.status),1)):m("",!0),s("form",{onSubmit:k(w,["prevent"])},[s("div",R,[r(v,{for:"empuser",value:"Username"}),s("div",U,[r(b,{id:"empuser",type:"text",class:"block w-full pl-4 pr-10 border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500",modelValue:t(o).empuser,"onUpdate:modelValue":e[0]||(e[0]=i=>t(o).empuser=i),required:"",autofocus:"",autocomplete:"username"},null,8,["modelValue"]),e[2]||(e[2]=s("span",{class:"absolute inset-y-0 right-0 flex items-center pr-3"},[s("i",{class:"text-gray-400 fas fa-user"})],-1))]),r(x,{class:"mt-2",message:t(o).errors.empuser},null,8,["message"])]),s("div",j,[r(v,{for:"emppass",value:"Password"}),s("div",D,[r(b,{type:l.value?"text":"password",id:"emppass",class:"block w-full pl-4 pr-10 border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500",modelValue:t(o).emppass,"onUpdate:modelValue":e[1]||(e[1]=i=>t(o).emppass=i),required:"",autocomplete:"current-password"},null,8,["type","modelValue"]),s("span",{class:"absolute inset-y-0 right-0 flex items-center pr-3 cursor-pointer",onClick:y},[s("i",{class:p([l.value?"fas fa-eye-slash":"fas fa-eye","text-gray-400"])},null,2)])]),r(x,{class:"mt-2",message:t(o).errors.emppass},null,8,["message"])]),s("div",F,[n.canResetPassword?(u(),P(t(N),{key:0,href:a.route("password.request"),class:"text-blue-700 underline text- hover:no-underline"},{default:c(()=>e[3]||(e[3]=[g(" Forgot password? ")])),_:1},8,["href"])):m("",!0),r(q,{class:p(["px-12 py-2 text-lg font-semibold text-white rounded-full bg-gradient-to-r from-blue-900 to-blue-900 hover:from-blue-800 hover:to-blue-800",{"opacity-25":t(o).processing}]),disabled:t(o).processing},{default:c(()=>e[4]||(e[4]=[g(" SIGN IN ")])),_:1},8,["class","disabled"])])],32)])])],64))}};export{z as default};
