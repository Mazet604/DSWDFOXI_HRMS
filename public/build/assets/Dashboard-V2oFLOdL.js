import{s as Ae,A as Ie,B as Re,m as R,p as Dt,o as y,k as Jt,w as pt,b as l,n as Pe,a as Q,t as B,q as x,v as k,C as Y,c as D,j as H,F as X,f as lt,y as Be,z as Ue}from"./app-DkGv4u98.js";import{A as Le}from"./AppLayout-DLD9mB5U.js";import{_ as ze}from"./_plugin-vue_export-helper-DlAUqK2U.js";/*!
 * Cropper.js v1.6.2
 * https://fengyuanchen.github.io/cropperjs
 *
 * Copyright 2015-present Chen Fengyuan
 * Released under the MIT license
 *
 * Date: 2024-04-21T07:43:05.335Z
 */function $t(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),a.push.apply(a,i)}return a}function ge(e){for(var t=1;t<arguments.length;t++){var a=arguments[t]!=null?arguments[t]:{};t%2?$t(Object(a),!0).forEach(function(i){Xe(e,i,a[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):$t(Object(a)).forEach(function(i){Object.defineProperty(e,i,Object.getOwnPropertyDescriptor(a,i))})}return e}function Ve(e,t){if(typeof e!="object"||!e)return e;var a=e[Symbol.toPrimitive];if(a!==void 0){var i=a.call(e,t||"default");if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function me(e){var t=Ve(e,"string");return typeof t=="symbol"?t:t+""}function At(e){"@babel/helpers - typeof";return At=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},At(e)}function Ye(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function te(e,t){for(var a=0;a<t.length;a++){var i=t[a];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,me(i.key),i)}}function He(e,t,a){return t&&te(e.prototype,t),a&&te(e,a),Object.defineProperty(e,"prototype",{writable:!1}),e}function Xe(e,t,a){return t=me(t),t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function ve(e){return We(e)||je(e)||Fe(e)||Ge()}function We(e){if(Array.isArray(e))return It(e)}function je(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function Fe(e,t){if(e){if(typeof e=="string")return It(e,t);var a=Object.prototype.toString.call(e).slice(8,-1);if(a==="Object"&&e.constructor&&(a=e.constructor.name),a==="Map"||a==="Set")return Array.from(e);if(a==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a))return It(e,t)}}function It(e,t){(t==null||t>e.length)&&(t=e.length);for(var a=0,i=new Array(t);a<t;a++)i[a]=e[a];return i}function Ge(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var Mt=typeof window<"u"&&typeof window.document<"u",K=Mt?window:{},Xt=Mt&&K.document.documentElement?"ontouchstart"in K.document.documentElement:!1,Wt=Mt?"PointerEvent"in K:!1,C="cropper",jt="all",be="crop",ye="move",xe="zoom",ot="e",rt="w",ht="s",$="n",gt="ne",mt="nw",vt="se",bt="sw",Rt="".concat(C,"-crop"),ee="".concat(C,"-disabled"),L="".concat(C,"-hidden"),ie="".concat(C,"-hide"),Ke="".concat(C,"-invisible"),Tt="".concat(C,"-modal"),Pt="".concat(C,"-move"),xt="".concat(C,"Action"),_t="".concat(C,"Preview"),Ft="crop",we="move",Ee="none",Bt="crop",Ut="cropend",Lt="cropmove",zt="cropstart",ae="dblclick",qe=Xt?"touchstart":"mousedown",Ze=Xt?"touchmove":"mousemove",Qe=Xt?"touchend touchcancel":"mouseup",se=Wt?"pointerdown":qe,oe=Wt?"pointermove":Ze,re=Wt?"pointerup pointercancel":Qe,ne="ready",le="resize",he="wheel",Vt="zoom",de="image/jpeg",Je=/^e|w|s|n|se|sw|ne|nw|all|crop|move|zoom$/,$e=/^data:/,ti=/^data:image\/jpeg;base64,/,ei=/^img|canvas$/i,De=200,_e=100,ce={viewMode:0,dragMode:Ft,initialAspectRatio:NaN,aspectRatio:NaN,data:null,preview:"",responsive:!0,restore:!0,checkCrossOrigin:!0,checkOrientation:!0,modal:!0,guides:!0,center:!0,highlight:!0,background:!0,autoCrop:!0,autoCropArea:.8,movable:!0,rotatable:!0,scalable:!0,zoomable:!0,zoomOnTouch:!0,zoomOnWheel:!0,wheelZoomRatio:.1,cropBoxMovable:!0,cropBoxResizable:!0,toggleDragModeOnDblclick:!0,minCanvasWidth:0,minCanvasHeight:0,minCropBoxWidth:0,minCropBoxHeight:0,minContainerWidth:De,minContainerHeight:_e,ready:null,cropstart:null,cropmove:null,cropend:null,crop:null,zoom:null},ii='<div class="cropper-container" touch-action="none"><div class="cropper-wrap-box"><div class="cropper-canvas"></div></div><div class="cropper-drag-box"></div><div class="cropper-crop-box"><span class="cropper-view-box"></span><span class="cropper-dashed dashed-h"></span><span class="cropper-dashed dashed-v"></span><span class="cropper-center"></span><span class="cropper-face"></span><span class="cropper-line line-e" data-cropper-action="e"></span><span class="cropper-line line-n" data-cropper-action="n"></span><span class="cropper-line line-w" data-cropper-action="w"></span><span class="cropper-line line-s" data-cropper-action="s"></span><span class="cropper-point point-e" data-cropper-action="e"></span><span class="cropper-point point-n" data-cropper-action="n"></span><span class="cropper-point point-w" data-cropper-action="w"></span><span class="cropper-point point-s" data-cropper-action="s"></span><span class="cropper-point point-ne" data-cropper-action="ne"></span><span class="cropper-point point-nw" data-cropper-action="nw"></span><span class="cropper-point point-sw" data-cropper-action="sw"></span><span class="cropper-point point-se" data-cropper-action="se"></span></div></div>',ai=Number.isNaN||K.isNaN;function m(e){return typeof e=="number"&&!ai(e)}var fe=function(t){return t>0&&t<1/0};function Ot(e){return typeof e>"u"}function nt(e){return At(e)==="object"&&e!==null}var si=Object.prototype.hasOwnProperty;function dt(e){if(!nt(e))return!1;try{var t=e.constructor,a=t.prototype;return t&&a&&si.call(a,"isPrototypeOf")}catch{return!1}}function U(e){return typeof e=="function"}var oi=Array.prototype.slice;function Ce(e){return Array.from?Array.from(e):oi.call(e)}function N(e,t){return e&&U(t)&&(Array.isArray(e)||m(e.length)?Ce(e).forEach(function(a,i){t.call(e,a,i,e)}):nt(e)&&Object.keys(e).forEach(function(a){t.call(e,e[a],a,e)})),e}var T=Object.assign||function(t){for(var a=arguments.length,i=new Array(a>1?a-1:0),s=1;s<a;s++)i[s-1]=arguments[s];return nt(t)&&i.length>0&&i.forEach(function(o){nt(o)&&Object.keys(o).forEach(function(n){t[n]=o[n]})}),t},ri=/\.\d*(?:0|9){12}\d*$/;function ft(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:1e11;return ri.test(e)?Math.round(e*t)/t:e}var ni=/^width|height|left|top|marginLeft|marginTop$/;function tt(e,t){var a=e.style;N(t,function(i,s){ni.test(s)&&m(i)&&(i="".concat(i,"px")),a[s]=i})}function li(e,t){return e.classList?e.classList.contains(t):e.className.indexOf(t)>-1}function I(e,t){if(t){if(m(e.length)){N(e,function(i){I(i,t)});return}if(e.classList){e.classList.add(t);return}var a=e.className.trim();a?a.indexOf(t)<0&&(e.className="".concat(a," ").concat(t)):e.className=t}}function G(e,t){if(t){if(m(e.length)){N(e,function(a){G(a,t)});return}if(e.classList){e.classList.remove(t);return}e.className.indexOf(t)>=0&&(e.className=e.className.replace(t,""))}}function ct(e,t,a){if(t){if(m(e.length)){N(e,function(i){ct(i,t,a)});return}a?I(e,t):G(e,t)}}var hi=/([a-z\d])([A-Z])/g;function Gt(e){return e.replace(hi,"$1-$2").toLowerCase()}function Yt(e,t){return nt(e[t])?e[t]:e.dataset?e.dataset[t]:e.getAttribute("data-".concat(Gt(t)))}function wt(e,t,a){nt(a)?e[t]=a:e.dataset?e.dataset[t]=a:e.setAttribute("data-".concat(Gt(t)),a)}function di(e,t){if(nt(e[t]))try{delete e[t]}catch{e[t]=void 0}else if(e.dataset)try{delete e.dataset[t]}catch{e.dataset[t]=void 0}else e.removeAttribute("data-".concat(Gt(t)))}var Te=/\s\s*/,Me=function(){var e=!1;if(Mt){var t=!1,a=function(){},i=Object.defineProperty({},"once",{get:function(){return e=!0,t},set:function(o){t=o}});K.addEventListener("test",a,i),K.removeEventListener("test",a,i)}return e}();function j(e,t,a){var i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{},s=a;t.trim().split(Te).forEach(function(o){if(!Me){var n=e.listeners;n&&n[o]&&n[o][a]&&(s=n[o][a],delete n[o][a],Object.keys(n[o]).length===0&&delete n[o],Object.keys(n).length===0&&delete e.listeners)}e.removeEventListener(o,s,i)})}function W(e,t,a){var i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{},s=a;t.trim().split(Te).forEach(function(o){if(i.once&&!Me){var n=e.listeners,d=n===void 0?{}:n;s=function(){delete d[o][a],e.removeEventListener(o,s,i);for(var c=arguments.length,r=new Array(c),h=0;h<c;h++)r[h]=arguments[h];a.apply(e,r)},d[o]||(d[o]={}),d[o][a]&&e.removeEventListener(o,d[o][a],i),d[o][a]=s,e.listeners=d}e.addEventListener(o,s,i)})}function ut(e,t,a){var i;return U(Event)&&U(CustomEvent)?i=new CustomEvent(t,{detail:a,bubbles:!0,cancelable:!0}):(i=document.createEvent("CustomEvent"),i.initCustomEvent(t,!0,!0,a)),e.dispatchEvent(i)}function Ne(e){var t=e.getBoundingClientRect();return{left:t.left+(window.pageXOffset-document.documentElement.clientLeft),top:t.top+(window.pageYOffset-document.documentElement.clientTop)}}var kt=K.location,ci=/^(\w+:)\/\/([^:/?#]*):?(\d*)/i;function ue(e){var t=e.match(ci);return t!==null&&(t[1]!==kt.protocol||t[2]!==kt.hostname||t[3]!==kt.port)}function pe(e){var t="timestamp=".concat(new Date().getTime());return e+(e.indexOf("?")===-1?"?":"&")+t}function yt(e){var t=e.rotate,a=e.scaleX,i=e.scaleY,s=e.translateX,o=e.translateY,n=[];m(s)&&s!==0&&n.push("translateX(".concat(s,"px)")),m(o)&&o!==0&&n.push("translateY(".concat(o,"px)")),m(t)&&t!==0&&n.push("rotate(".concat(t,"deg)")),m(a)&&a!==1&&n.push("scaleX(".concat(a,")")),m(i)&&i!==1&&n.push("scaleY(".concat(i,")"));var d=n.length?n.join(" "):"none";return{WebkitTransform:d,msTransform:d,transform:d}}function fi(e){var t=ge({},e),a=0;return N(e,function(i,s){delete t[s],N(t,function(o){var n=Math.abs(i.startX-o.startX),d=Math.abs(i.startY-o.startY),u=Math.abs(i.endX-o.endX),c=Math.abs(i.endY-o.endY),r=Math.sqrt(n*n+d*d),h=Math.sqrt(u*u+c*c),f=(h-r)/r;Math.abs(f)>Math.abs(a)&&(a=f)})}),a}function Ct(e,t){var a=e.pageX,i=e.pageY,s={endX:a,endY:i};return t?s:ge({startX:a,startY:i},s)}function ui(e){var t=0,a=0,i=0;return N(e,function(s){var o=s.startX,n=s.startY;t+=o,a+=n,i+=1}),t/=i,a/=i,{pageX:t,pageY:a}}function et(e){var t=e.aspectRatio,a=e.height,i=e.width,s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"contain",o=fe(i),n=fe(a);if(o&&n){var d=a*t;s==="contain"&&d>i||s==="cover"&&d<i?a=i/t:i=a*t}else o?a=i/t:n&&(i=a*t);return{width:i,height:a}}function pi(e){var t=e.width,a=e.height,i=e.degree;if(i=Math.abs(i)%180,i===90)return{width:a,height:t};var s=i%90*Math.PI/180,o=Math.sin(s),n=Math.cos(s),d=t*n+a*o,u=t*o+a*n;return i>90?{width:u,height:d}:{width:d,height:u}}function gi(e,t,a,i){var s=t.aspectRatio,o=t.naturalWidth,n=t.naturalHeight,d=t.rotate,u=d===void 0?0:d,c=t.scaleX,r=c===void 0?1:c,h=t.scaleY,f=h===void 0?1:h,b=a.aspectRatio,v=a.naturalWidth,_=a.naturalHeight,w=i.fillColor,S=w===void 0?"transparent":w,A=i.imageSmoothingEnabled,M=A===void 0?!0:A,q=i.imageSmoothingQuality,z=q===void 0?"low":q,p=i.maxWidth,E=p===void 0?1/0:p,O=i.maxHeight,V=O===void 0?1/0:O,Z=i.minWidth,it=Z===void 0?0:Z,at=i.minHeight,J=at===void 0?0:at,F=document.createElement("canvas"),P=F.getContext("2d"),st=et({aspectRatio:b,width:E,height:V}),Et=et({aspectRatio:b,width:it,height:J},"cover"),Nt=Math.min(st.width,Math.max(Et.width,v)),St=Math.min(st.height,Math.max(Et.height,_)),Kt=et({aspectRatio:s,width:E,height:V}),qt=et({aspectRatio:s,width:it,height:J},"cover"),Zt=Math.min(Kt.width,Math.max(qt.width,o)),Qt=Math.min(Kt.height,Math.max(qt.height,n)),Oe=[-Zt/2,-Qt/2,Zt,Qt];return F.width=ft(Nt),F.height=ft(St),P.fillStyle=S,P.fillRect(0,0,Nt,St),P.save(),P.translate(Nt/2,St/2),P.rotate(u*Math.PI/180),P.scale(r,f),P.imageSmoothingEnabled=M,P.imageSmoothingQuality=z,P.drawImage.apply(P,[e].concat(ve(Oe.map(function(ke){return Math.floor(ft(ke))})))),P.restore(),F}var Se=String.fromCharCode;function mi(e,t,a){var i="";a+=t;for(var s=t;s<a;s+=1)i+=Se(e.getUint8(s));return i}var vi=/^data:.*,/;function bi(e){var t=e.replace(vi,""),a=atob(t),i=new ArrayBuffer(a.length),s=new Uint8Array(i);return N(s,function(o,n){s[n]=a.charCodeAt(n)}),i}function yi(e,t){for(var a=[],i=8192,s=new Uint8Array(e);s.length>0;)a.push(Se.apply(null,Ce(s.subarray(0,i)))),s=s.subarray(i);return"data:".concat(t,";base64,").concat(btoa(a.join("")))}function xi(e){var t=new DataView(e),a;try{var i,s,o;if(t.getUint8(0)===255&&t.getUint8(1)===216)for(var n=t.byteLength,d=2;d+1<n;){if(t.getUint8(d)===255&&t.getUint8(d+1)===225){s=d;break}d+=1}if(s){var u=s+4,c=s+10;if(mi(t,u,4)==="Exif"){var r=t.getUint16(c);if(i=r===18761,(i||r===19789)&&t.getUint16(c+2,i)===42){var h=t.getUint32(c+4,i);h>=8&&(o=c+h)}}}if(o){var f=t.getUint16(o,i),b,v;for(v=0;v<f;v+=1)if(b=o+v*12+2,t.getUint16(b,i)===274){b+=8,a=t.getUint16(b,i),t.setUint16(b,1,i);break}}}catch{a=1}return a}function wi(e){var t=0,a=1,i=1;switch(e){case 2:a=-1;break;case 3:t=-180;break;case 4:i=-1;break;case 5:t=90,i=-1;break;case 6:t=90;break;case 7:t=90,a=-1;break;case 8:t=-90;break}return{rotate:t,scaleX:a,scaleY:i}}var Ei={render:function(){this.initContainer(),this.initCanvas(),this.initCropBox(),this.renderCanvas(),this.cropped&&this.renderCropBox()},initContainer:function(){var t=this.element,a=this.options,i=this.container,s=this.cropper,o=Number(a.minContainerWidth),n=Number(a.minContainerHeight);I(s,L),G(t,L);var d={width:Math.max(i.offsetWidth,o>=0?o:De),height:Math.max(i.offsetHeight,n>=0?n:_e)};this.containerData=d,tt(s,{width:d.width,height:d.height}),I(t,L),G(s,L)},initCanvas:function(){var t=this.containerData,a=this.imageData,i=this.options.viewMode,s=Math.abs(a.rotate)%180===90,o=s?a.naturalHeight:a.naturalWidth,n=s?a.naturalWidth:a.naturalHeight,d=o/n,u=t.width,c=t.height;t.height*d>t.width?i===3?u=t.height*d:c=t.width/d:i===3?c=t.width/d:u=t.height*d;var r={aspectRatio:d,naturalWidth:o,naturalHeight:n,width:u,height:c};this.canvasData=r,this.limited=i===1||i===2,this.limitCanvas(!0,!0),r.width=Math.min(Math.max(r.width,r.minWidth),r.maxWidth),r.height=Math.min(Math.max(r.height,r.minHeight),r.maxHeight),r.left=(t.width-r.width)/2,r.top=(t.height-r.height)/2,r.oldLeft=r.left,r.oldTop=r.top,this.initialCanvasData=T({},r)},limitCanvas:function(t,a){var i=this.options,s=this.containerData,o=this.canvasData,n=this.cropBoxData,d=i.viewMode,u=o.aspectRatio,c=this.cropped&&n;if(t){var r=Number(i.minCanvasWidth)||0,h=Number(i.minCanvasHeight)||0;d>1?(r=Math.max(r,s.width),h=Math.max(h,s.height),d===3&&(h*u>r?r=h*u:h=r/u)):d>0&&(r?r=Math.max(r,c?n.width:0):h?h=Math.max(h,c?n.height:0):c&&(r=n.width,h=n.height,h*u>r?r=h*u:h=r/u));var f=et({aspectRatio:u,width:r,height:h});r=f.width,h=f.height,o.minWidth=r,o.minHeight=h,o.maxWidth=1/0,o.maxHeight=1/0}if(a)if(d>(c?0:1)){var b=s.width-o.width,v=s.height-o.height;o.minLeft=Math.min(0,b),o.minTop=Math.min(0,v),o.maxLeft=Math.max(0,b),o.maxTop=Math.max(0,v),c&&this.limited&&(o.minLeft=Math.min(n.left,n.left+(n.width-o.width)),o.minTop=Math.min(n.top,n.top+(n.height-o.height)),o.maxLeft=n.left,o.maxTop=n.top,d===2&&(o.width>=s.width&&(o.minLeft=Math.min(0,b),o.maxLeft=Math.max(0,b)),o.height>=s.height&&(o.minTop=Math.min(0,v),o.maxTop=Math.max(0,v))))}else o.minLeft=-o.width,o.minTop=-o.height,o.maxLeft=s.width,o.maxTop=s.height},renderCanvas:function(t,a){var i=this.canvasData,s=this.imageData;if(a){var o=pi({width:s.naturalWidth*Math.abs(s.scaleX||1),height:s.naturalHeight*Math.abs(s.scaleY||1),degree:s.rotate||0}),n=o.width,d=o.height,u=i.width*(n/i.naturalWidth),c=i.height*(d/i.naturalHeight);i.left-=(u-i.width)/2,i.top-=(c-i.height)/2,i.width=u,i.height=c,i.aspectRatio=n/d,i.naturalWidth=n,i.naturalHeight=d,this.limitCanvas(!0,!1)}(i.width>i.maxWidth||i.width<i.minWidth)&&(i.left=i.oldLeft),(i.height>i.maxHeight||i.height<i.minHeight)&&(i.top=i.oldTop),i.width=Math.min(Math.max(i.width,i.minWidth),i.maxWidth),i.height=Math.min(Math.max(i.height,i.minHeight),i.maxHeight),this.limitCanvas(!1,!0),i.left=Math.min(Math.max(i.left,i.minLeft),i.maxLeft),i.top=Math.min(Math.max(i.top,i.minTop),i.maxTop),i.oldLeft=i.left,i.oldTop=i.top,tt(this.canvas,T({width:i.width,height:i.height},yt({translateX:i.left,translateY:i.top}))),this.renderImage(t),this.cropped&&this.limited&&this.limitCropBox(!0,!0)},renderImage:function(t){var a=this.canvasData,i=this.imageData,s=i.naturalWidth*(a.width/a.naturalWidth),o=i.naturalHeight*(a.height/a.naturalHeight);T(i,{width:s,height:o,left:(a.width-s)/2,top:(a.height-o)/2}),tt(this.image,T({width:i.width,height:i.height},yt(T({translateX:i.left,translateY:i.top},i)))),t&&this.output()},initCropBox:function(){var t=this.options,a=this.canvasData,i=t.aspectRatio||t.initialAspectRatio,s=Number(t.autoCropArea)||.8,o={width:a.width,height:a.height};i&&(a.height*i>a.width?o.height=o.width/i:o.width=o.height*i),this.cropBoxData=o,this.limitCropBox(!0,!0),o.width=Math.min(Math.max(o.width,o.minWidth),o.maxWidth),o.height=Math.min(Math.max(o.height,o.minHeight),o.maxHeight),o.width=Math.max(o.minWidth,o.width*s),o.height=Math.max(o.minHeight,o.height*s),o.left=a.left+(a.width-o.width)/2,o.top=a.top+(a.height-o.height)/2,o.oldLeft=o.left,o.oldTop=o.top,this.initialCropBoxData=T({},o)},limitCropBox:function(t,a){var i=this.options,s=this.containerData,o=this.canvasData,n=this.cropBoxData,d=this.limited,u=i.aspectRatio;if(t){var c=Number(i.minCropBoxWidth)||0,r=Number(i.minCropBoxHeight)||0,h=d?Math.min(s.width,o.width,o.width+o.left,s.width-o.left):s.width,f=d?Math.min(s.height,o.height,o.height+o.top,s.height-o.top):s.height;c=Math.min(c,s.width),r=Math.min(r,s.height),u&&(c&&r?r*u>c?r=c/u:c=r*u:c?r=c/u:r&&(c=r*u),f*u>h?f=h/u:h=f*u),n.minWidth=Math.min(c,h),n.minHeight=Math.min(r,f),n.maxWidth=h,n.maxHeight=f}a&&(d?(n.minLeft=Math.max(0,o.left),n.minTop=Math.max(0,o.top),n.maxLeft=Math.min(s.width,o.left+o.width)-n.width,n.maxTop=Math.min(s.height,o.top+o.height)-n.height):(n.minLeft=0,n.minTop=0,n.maxLeft=s.width-n.width,n.maxTop=s.height-n.height))},renderCropBox:function(){var t=this.options,a=this.containerData,i=this.cropBoxData;(i.width>i.maxWidth||i.width<i.minWidth)&&(i.left=i.oldLeft),(i.height>i.maxHeight||i.height<i.minHeight)&&(i.top=i.oldTop),i.width=Math.min(Math.max(i.width,i.minWidth),i.maxWidth),i.height=Math.min(Math.max(i.height,i.minHeight),i.maxHeight),this.limitCropBox(!1,!0),i.left=Math.min(Math.max(i.left,i.minLeft),i.maxLeft),i.top=Math.min(Math.max(i.top,i.minTop),i.maxTop),i.oldLeft=i.left,i.oldTop=i.top,t.movable&&t.cropBoxMovable&&wt(this.face,xt,i.width>=a.width&&i.height>=a.height?ye:jt),tt(this.cropBox,T({width:i.width,height:i.height},yt({translateX:i.left,translateY:i.top}))),this.cropped&&this.limited&&this.limitCanvas(!0,!0),this.disabled||this.output()},output:function(){this.preview(),ut(this.element,Bt,this.getData())}},Di={initPreview:function(){var t=this.element,a=this.crossOrigin,i=this.options.preview,s=a?this.crossOriginUrl:this.url,o=t.alt||"The image to preview",n=document.createElement("img");if(a&&(n.crossOrigin=a),n.src=s,n.alt=o,this.viewBox.appendChild(n),this.viewBoxImage=n,!!i){var d=i;typeof i=="string"?d=t.ownerDocument.querySelectorAll(i):i.querySelector&&(d=[i]),this.previews=d,N(d,function(u){var c=document.createElement("img");wt(u,_t,{width:u.offsetWidth,height:u.offsetHeight,html:u.innerHTML}),a&&(c.crossOrigin=a),c.src=s,c.alt=o,c.style.cssText='display:block;width:100%;height:auto;min-width:0!important;min-height:0!important;max-width:none!important;max-height:none!important;image-orientation:0deg!important;"',u.innerHTML="",u.appendChild(c)})}},resetPreview:function(){N(this.previews,function(t){var a=Yt(t,_t);tt(t,{width:a.width,height:a.height}),t.innerHTML=a.html,di(t,_t)})},preview:function(){var t=this.imageData,a=this.canvasData,i=this.cropBoxData,s=i.width,o=i.height,n=t.width,d=t.height,u=i.left-a.left-t.left,c=i.top-a.top-t.top;!this.cropped||this.disabled||(tt(this.viewBoxImage,T({width:n,height:d},yt(T({translateX:-u,translateY:-c},t)))),N(this.previews,function(r){var h=Yt(r,_t),f=h.width,b=h.height,v=f,_=b,w=1;s&&(w=f/s,_=o*w),o&&_>b&&(w=b/o,v=s*w,_=b),tt(r,{width:v,height:_}),tt(r.getElementsByTagName("img")[0],T({width:n*w,height:d*w},yt(T({translateX:-u*w,translateY:-c*w},t))))}))}},_i={bind:function(){var t=this.element,a=this.options,i=this.cropper;U(a.cropstart)&&W(t,zt,a.cropstart),U(a.cropmove)&&W(t,Lt,a.cropmove),U(a.cropend)&&W(t,Ut,a.cropend),U(a.crop)&&W(t,Bt,a.crop),U(a.zoom)&&W(t,Vt,a.zoom),W(i,se,this.onCropStart=this.cropStart.bind(this)),a.zoomable&&a.zoomOnWheel&&W(i,he,this.onWheel=this.wheel.bind(this),{passive:!1,capture:!0}),a.toggleDragModeOnDblclick&&W(i,ae,this.onDblclick=this.dblclick.bind(this)),W(t.ownerDocument,oe,this.onCropMove=this.cropMove.bind(this)),W(t.ownerDocument,re,this.onCropEnd=this.cropEnd.bind(this)),a.responsive&&W(window,le,this.onResize=this.resize.bind(this))},unbind:function(){var t=this.element,a=this.options,i=this.cropper;U(a.cropstart)&&j(t,zt,a.cropstart),U(a.cropmove)&&j(t,Lt,a.cropmove),U(a.cropend)&&j(t,Ut,a.cropend),U(a.crop)&&j(t,Bt,a.crop),U(a.zoom)&&j(t,Vt,a.zoom),j(i,se,this.onCropStart),a.zoomable&&a.zoomOnWheel&&j(i,he,this.onWheel,{passive:!1,capture:!0}),a.toggleDragModeOnDblclick&&j(i,ae,this.onDblclick),j(t.ownerDocument,oe,this.onCropMove),j(t.ownerDocument,re,this.onCropEnd),a.responsive&&j(window,le,this.onResize)}},Ci={resize:function(){if(!this.disabled){var t=this.options,a=this.container,i=this.containerData,s=a.offsetWidth/i.width,o=a.offsetHeight/i.height,n=Math.abs(s-1)>Math.abs(o-1)?s:o;if(n!==1){var d,u;t.restore&&(d=this.getCanvasData(),u=this.getCropBoxData()),this.render(),t.restore&&(this.setCanvasData(N(d,function(c,r){d[r]=c*n})),this.setCropBoxData(N(u,function(c,r){u[r]=c*n})))}}},dblclick:function(){this.disabled||this.options.dragMode===Ee||this.setDragMode(li(this.dragBox,Rt)?we:Ft)},wheel:function(t){var a=this,i=Number(this.options.wheelZoomRatio)||.1,s=1;this.disabled||(t.preventDefault(),!this.wheeling&&(this.wheeling=!0,setTimeout(function(){a.wheeling=!1},50),t.deltaY?s=t.deltaY>0?1:-1:t.wheelDelta?s=-t.wheelDelta/120:t.detail&&(s=t.detail>0?1:-1),this.zoom(-s*i,t)))},cropStart:function(t){var a=t.buttons,i=t.button;if(!(this.disabled||(t.type==="mousedown"||t.type==="pointerdown"&&t.pointerType==="mouse")&&(m(a)&&a!==1||m(i)&&i!==0||t.ctrlKey))){var s=this.options,o=this.pointers,n;t.changedTouches?N(t.changedTouches,function(d){o[d.identifier]=Ct(d)}):o[t.pointerId||0]=Ct(t),Object.keys(o).length>1&&s.zoomable&&s.zoomOnTouch?n=xe:n=Yt(t.target,xt),Je.test(n)&&ut(this.element,zt,{originalEvent:t,action:n})!==!1&&(t.preventDefault(),this.action=n,this.cropping=!1,n===be&&(this.cropping=!0,I(this.dragBox,Tt)))}},cropMove:function(t){var a=this.action;if(!(this.disabled||!a)){var i=this.pointers;t.preventDefault(),ut(this.element,Lt,{originalEvent:t,action:a})!==!1&&(t.changedTouches?N(t.changedTouches,function(s){T(i[s.identifier]||{},Ct(s,!0))}):T(i[t.pointerId||0]||{},Ct(t,!0)),this.change(t))}},cropEnd:function(t){if(!this.disabled){var a=this.action,i=this.pointers;t.changedTouches?N(t.changedTouches,function(s){delete i[s.identifier]}):delete i[t.pointerId||0],a&&(t.preventDefault(),Object.keys(i).length||(this.action=""),this.cropping&&(this.cropping=!1,ct(this.dragBox,Tt,this.cropped&&this.options.modal)),ut(this.element,Ut,{originalEvent:t,action:a}))}}},Ti={change:function(t){var a=this.options,i=this.canvasData,s=this.containerData,o=this.cropBoxData,n=this.pointers,d=this.action,u=a.aspectRatio,c=o.left,r=o.top,h=o.width,f=o.height,b=c+h,v=r+f,_=0,w=0,S=s.width,A=s.height,M=!0,q;!u&&t.shiftKey&&(u=h&&f?h/f:1),this.limited&&(_=o.minLeft,w=o.minTop,S=_+Math.min(s.width,i.width,i.left+i.width),A=w+Math.min(s.height,i.height,i.top+i.height));var z=n[Object.keys(n)[0]],p={x:z.endX-z.startX,y:z.endY-z.startY},E=function(V){switch(V){case ot:b+p.x>S&&(p.x=S-b);break;case rt:c+p.x<_&&(p.x=_-c);break;case $:r+p.y<w&&(p.y=w-r);break;case ht:v+p.y>A&&(p.y=A-v);break}};switch(d){case jt:c+=p.x,r+=p.y;break;case ot:if(p.x>=0&&(b>=S||u&&(r<=w||v>=A))){M=!1;break}E(ot),h+=p.x,h<0&&(d=rt,h=-h,c-=h),u&&(f=h/u,r+=(o.height-f)/2);break;case $:if(p.y<=0&&(r<=w||u&&(c<=_||b>=S))){M=!1;break}E($),f-=p.y,r+=p.y,f<0&&(d=ht,f=-f,r-=f),u&&(h=f*u,c+=(o.width-h)/2);break;case rt:if(p.x<=0&&(c<=_||u&&(r<=w||v>=A))){M=!1;break}E(rt),h-=p.x,c+=p.x,h<0&&(d=ot,h=-h,c-=h),u&&(f=h/u,r+=(o.height-f)/2);break;case ht:if(p.y>=0&&(v>=A||u&&(c<=_||b>=S))){M=!1;break}E(ht),f+=p.y,f<0&&(d=$,f=-f,r-=f),u&&(h=f*u,c+=(o.width-h)/2);break;case gt:if(u){if(p.y<=0&&(r<=w||b>=S)){M=!1;break}E($),f-=p.y,r+=p.y,h=f*u}else E($),E(ot),p.x>=0?b<S?h+=p.x:p.y<=0&&r<=w&&(M=!1):h+=p.x,p.y<=0?r>w&&(f-=p.y,r+=p.y):(f-=p.y,r+=p.y);h<0&&f<0?(d=bt,f=-f,h=-h,r-=f,c-=h):h<0?(d=mt,h=-h,c-=h):f<0&&(d=vt,f=-f,r-=f);break;case mt:if(u){if(p.y<=0&&(r<=w||c<=_)){M=!1;break}E($),f-=p.y,r+=p.y,h=f*u,c+=o.width-h}else E($),E(rt),p.x<=0?c>_?(h-=p.x,c+=p.x):p.y<=0&&r<=w&&(M=!1):(h-=p.x,c+=p.x),p.y<=0?r>w&&(f-=p.y,r+=p.y):(f-=p.y,r+=p.y);h<0&&f<0?(d=vt,f=-f,h=-h,r-=f,c-=h):h<0?(d=gt,h=-h,c-=h):f<0&&(d=bt,f=-f,r-=f);break;case bt:if(u){if(p.x<=0&&(c<=_||v>=A)){M=!1;break}E(rt),h-=p.x,c+=p.x,f=h/u}else E(ht),E(rt),p.x<=0?c>_?(h-=p.x,c+=p.x):p.y>=0&&v>=A&&(M=!1):(h-=p.x,c+=p.x),p.y>=0?v<A&&(f+=p.y):f+=p.y;h<0&&f<0?(d=gt,f=-f,h=-h,r-=f,c-=h):h<0?(d=vt,h=-h,c-=h):f<0&&(d=mt,f=-f,r-=f);break;case vt:if(u){if(p.x>=0&&(b>=S||v>=A)){M=!1;break}E(ot),h+=p.x,f=h/u}else E(ht),E(ot),p.x>=0?b<S?h+=p.x:p.y>=0&&v>=A&&(M=!1):h+=p.x,p.y>=0?v<A&&(f+=p.y):f+=p.y;h<0&&f<0?(d=mt,f=-f,h=-h,r-=f,c-=h):h<0?(d=bt,h=-h,c-=h):f<0&&(d=gt,f=-f,r-=f);break;case ye:this.move(p.x,p.y),M=!1;break;case xe:this.zoom(fi(n),t),M=!1;break;case be:if(!p.x||!p.y){M=!1;break}q=Ne(this.cropper),c=z.startX-q.left,r=z.startY-q.top,h=o.minWidth,f=o.minHeight,p.x>0?d=p.y>0?vt:gt:p.x<0&&(c-=h,d=p.y>0?bt:mt),p.y<0&&(r-=f),this.cropped||(G(this.cropBox,L),this.cropped=!0,this.limited&&this.limitCropBox(!0,!0));break}M&&(o.width=h,o.height=f,o.left=c,o.top=r,this.action=d,this.renderCropBox()),N(n,function(O){O.startX=O.endX,O.startY=O.endY})}},Mi={crop:function(){return this.ready&&!this.cropped&&!this.disabled&&(this.cropped=!0,this.limitCropBox(!0,!0),this.options.modal&&I(this.dragBox,Tt),G(this.cropBox,L),this.setCropBoxData(this.initialCropBoxData)),this},reset:function(){return this.ready&&!this.disabled&&(this.imageData=T({},this.initialImageData),this.canvasData=T({},this.initialCanvasData),this.cropBoxData=T({},this.initialCropBoxData),this.renderCanvas(),this.cropped&&this.renderCropBox()),this},clear:function(){return this.cropped&&!this.disabled&&(T(this.cropBoxData,{left:0,top:0,width:0,height:0}),this.cropped=!1,this.renderCropBox(),this.limitCanvas(!0,!0),this.renderCanvas(),G(this.dragBox,Tt),I(this.cropBox,L)),this},replace:function(t){var a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;return!this.disabled&&t&&(this.isImg&&(this.element.src=t),a?(this.url=t,this.image.src=t,this.ready&&(this.viewBoxImage.src=t,N(this.previews,function(i){i.getElementsByTagName("img")[0].src=t}))):(this.isImg&&(this.replaced=!0),this.options.data=null,this.uncreate(),this.load(t))),this},enable:function(){return this.ready&&this.disabled&&(this.disabled=!1,G(this.cropper,ee)),this},disable:function(){return this.ready&&!this.disabled&&(this.disabled=!0,I(this.cropper,ee)),this},destroy:function(){var t=this.element;return t[C]?(t[C]=void 0,this.isImg&&this.replaced&&(t.src=this.originalUrl),this.uncreate(),this):this},move:function(t){var a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:t,i=this.canvasData,s=i.left,o=i.top;return this.moveTo(Ot(t)?t:s+Number(t),Ot(a)?a:o+Number(a))},moveTo:function(t){var a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:t,i=this.canvasData,s=!1;return t=Number(t),a=Number(a),this.ready&&!this.disabled&&this.options.movable&&(m(t)&&(i.left=t,s=!0),m(a)&&(i.top=a,s=!0),s&&this.renderCanvas(!0)),this},zoom:function(t,a){var i=this.canvasData;return t=Number(t),t<0?t=1/(1-t):t=1+t,this.zoomTo(i.width*t/i.naturalWidth,null,a)},zoomTo:function(t,a,i){var s=this.options,o=this.canvasData,n=o.width,d=o.height,u=o.naturalWidth,c=o.naturalHeight;if(t=Number(t),t>=0&&this.ready&&!this.disabled&&s.zoomable){var r=u*t,h=c*t;if(ut(this.element,Vt,{ratio:t,oldRatio:n/u,originalEvent:i})===!1)return this;if(i){var f=this.pointers,b=Ne(this.cropper),v=f&&Object.keys(f).length?ui(f):{pageX:i.pageX,pageY:i.pageY};o.left-=(r-n)*((v.pageX-b.left-o.left)/n),o.top-=(h-d)*((v.pageY-b.top-o.top)/d)}else dt(a)&&m(a.x)&&m(a.y)?(o.left-=(r-n)*((a.x-o.left)/n),o.top-=(h-d)*((a.y-o.top)/d)):(o.left-=(r-n)/2,o.top-=(h-d)/2);o.width=r,o.height=h,this.renderCanvas(!0)}return this},rotate:function(t){return this.rotateTo((this.imageData.rotate||0)+Number(t))},rotateTo:function(t){return t=Number(t),m(t)&&this.ready&&!this.disabled&&this.options.rotatable&&(this.imageData.rotate=t%360,this.renderCanvas(!0,!0)),this},scaleX:function(t){var a=this.imageData.scaleY;return this.scale(t,m(a)?a:1)},scaleY:function(t){var a=this.imageData.scaleX;return this.scale(m(a)?a:1,t)},scale:function(t){var a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:t,i=this.imageData,s=!1;return t=Number(t),a=Number(a),this.ready&&!this.disabled&&this.options.scalable&&(m(t)&&(i.scaleX=t,s=!0),m(a)&&(i.scaleY=a,s=!0),s&&this.renderCanvas(!0,!0)),this},getData:function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1,a=this.options,i=this.imageData,s=this.canvasData,o=this.cropBoxData,n;if(this.ready&&this.cropped){n={x:o.left-s.left,y:o.top-s.top,width:o.width,height:o.height};var d=i.width/i.naturalWidth;if(N(n,function(r,h){n[h]=r/d}),t){var u=Math.round(n.y+n.height),c=Math.round(n.x+n.width);n.x=Math.round(n.x),n.y=Math.round(n.y),n.width=c-n.x,n.height=u-n.y}}else n={x:0,y:0,width:0,height:0};return a.rotatable&&(n.rotate=i.rotate||0),a.scalable&&(n.scaleX=i.scaleX||1,n.scaleY=i.scaleY||1),n},setData:function(t){var a=this.options,i=this.imageData,s=this.canvasData,o={};if(this.ready&&!this.disabled&&dt(t)){var n=!1;a.rotatable&&m(t.rotate)&&t.rotate!==i.rotate&&(i.rotate=t.rotate,n=!0),a.scalable&&(m(t.scaleX)&&t.scaleX!==i.scaleX&&(i.scaleX=t.scaleX,n=!0),m(t.scaleY)&&t.scaleY!==i.scaleY&&(i.scaleY=t.scaleY,n=!0)),n&&this.renderCanvas(!0,!0);var d=i.width/i.naturalWidth;m(t.x)&&(o.left=t.x*d+s.left),m(t.y)&&(o.top=t.y*d+s.top),m(t.width)&&(o.width=t.width*d),m(t.height)&&(o.height=t.height*d),this.setCropBoxData(o)}return this},getContainerData:function(){return this.ready?T({},this.containerData):{}},getImageData:function(){return this.sized?T({},this.imageData):{}},getCanvasData:function(){var t=this.canvasData,a={};return this.ready&&N(["left","top","width","height","naturalWidth","naturalHeight"],function(i){a[i]=t[i]}),a},setCanvasData:function(t){var a=this.canvasData,i=a.aspectRatio;return this.ready&&!this.disabled&&dt(t)&&(m(t.left)&&(a.left=t.left),m(t.top)&&(a.top=t.top),m(t.width)?(a.width=t.width,a.height=t.width/i):m(t.height)&&(a.height=t.height,a.width=t.height*i),this.renderCanvas(!0)),this},getCropBoxData:function(){var t=this.cropBoxData,a;return this.ready&&this.cropped&&(a={left:t.left,top:t.top,width:t.width,height:t.height}),a||{}},setCropBoxData:function(t){var a=this.cropBoxData,i=this.options.aspectRatio,s,o;return this.ready&&this.cropped&&!this.disabled&&dt(t)&&(m(t.left)&&(a.left=t.left),m(t.top)&&(a.top=t.top),m(t.width)&&t.width!==a.width&&(s=!0,a.width=t.width),m(t.height)&&t.height!==a.height&&(o=!0,a.height=t.height),i&&(s?a.height=a.width/i:o&&(a.width=a.height*i)),this.renderCropBox()),this},getCroppedCanvas:function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};if(!this.ready||!window.HTMLCanvasElement)return null;var a=this.canvasData,i=gi(this.image,this.imageData,a,t);if(!this.cropped)return i;var s=this.getData(t.rounded),o=s.x,n=s.y,d=s.width,u=s.height,c=i.width/Math.floor(a.naturalWidth);c!==1&&(o*=c,n*=c,d*=c,u*=c);var r=d/u,h=et({aspectRatio:r,width:t.maxWidth||1/0,height:t.maxHeight||1/0}),f=et({aspectRatio:r,width:t.minWidth||0,height:t.minHeight||0},"cover"),b=et({aspectRatio:r,width:t.width||(c!==1?i.width:d),height:t.height||(c!==1?i.height:u)}),v=b.width,_=b.height;v=Math.min(h.width,Math.max(f.width,v)),_=Math.min(h.height,Math.max(f.height,_));var w=document.createElement("canvas"),S=w.getContext("2d");w.width=ft(v),w.height=ft(_),S.fillStyle=t.fillColor||"transparent",S.fillRect(0,0,v,_);var A=t.imageSmoothingEnabled,M=A===void 0?!0:A,q=t.imageSmoothingQuality;S.imageSmoothingEnabled=M,q&&(S.imageSmoothingQuality=q);var z=i.width,p=i.height,E=o,O=n,V,Z,it,at,J,F;E<=-d||E>z?(E=0,V=0,it=0,J=0):E<=0?(it=-E,E=0,V=Math.min(z,d+E),J=V):E<=z&&(it=0,V=Math.min(d,z-E),J=V),V<=0||O<=-u||O>p?(O=0,Z=0,at=0,F=0):O<=0?(at=-O,O=0,Z=Math.min(p,u+O),F=Z):O<=p&&(at=0,Z=Math.min(u,p-O),F=Z);var P=[E,O,V,Z];if(J>0&&F>0){var st=v/d;P.push(it*st,at*st,J*st,F*st)}return S.drawImage.apply(S,[i].concat(ve(P.map(function(Et){return Math.floor(ft(Et))})))),w},setAspectRatio:function(t){var a=this.options;return!this.disabled&&!Ot(t)&&(a.aspectRatio=Math.max(0,t)||NaN,this.ready&&(this.initCropBox(),this.cropped&&this.renderCropBox())),this},setDragMode:function(t){var a=this.options,i=this.dragBox,s=this.face;if(this.ready&&!this.disabled){var o=t===Ft,n=a.movable&&t===we;t=o||n?t:Ee,a.dragMode=t,wt(i,xt,t),ct(i,Rt,o),ct(i,Pt,n),a.cropBoxMovable||(wt(s,xt,t),ct(s,Rt,o),ct(s,Pt,n))}return this}},Ni=K.Cropper,Ht=function(){function e(t){var a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(Ye(this,e),!t||!ei.test(t.tagName))throw new Error("The first argument is required and must be an <img> or <canvas> element.");this.element=t,this.options=T({},ce,dt(a)&&a),this.cropped=!1,this.disabled=!1,this.pointers={},this.ready=!1,this.reloading=!1,this.replaced=!1,this.sized=!1,this.sizing=!1,this.init()}return He(e,[{key:"init",value:function(){var a=this.element,i=a.tagName.toLowerCase(),s;if(!a[C]){if(a[C]=this,i==="img"){if(this.isImg=!0,s=a.getAttribute("src")||"",this.originalUrl=s,!s)return;s=a.src}else i==="canvas"&&window.HTMLCanvasElement&&(s=a.toDataURL());this.load(s)}}},{key:"load",value:function(a){var i=this;if(a){this.url=a,this.imageData={};var s=this.element,o=this.options;if(!o.rotatable&&!o.scalable&&(o.checkOrientation=!1),!o.checkOrientation||!window.ArrayBuffer){this.clone();return}if($e.test(a)){ti.test(a)?this.read(bi(a)):this.clone();return}var n=new XMLHttpRequest,d=this.clone.bind(this);this.reloading=!0,this.xhr=n,n.onabort=d,n.onerror=d,n.ontimeout=d,n.onprogress=function(){n.getResponseHeader("content-type")!==de&&n.abort()},n.onload=function(){i.read(n.response)},n.onloadend=function(){i.reloading=!1,i.xhr=null},o.checkCrossOrigin&&ue(a)&&s.crossOrigin&&(a=pe(a)),n.open("GET",a,!0),n.responseType="arraybuffer",n.withCredentials=s.crossOrigin==="use-credentials",n.send()}}},{key:"read",value:function(a){var i=this.options,s=this.imageData,o=xi(a),n=0,d=1,u=1;if(o>1){this.url=yi(a,de);var c=wi(o);n=c.rotate,d=c.scaleX,u=c.scaleY}i.rotatable&&(s.rotate=n),i.scalable&&(s.scaleX=d,s.scaleY=u),this.clone()}},{key:"clone",value:function(){var a=this.element,i=this.url,s=a.crossOrigin,o=i;this.options.checkCrossOrigin&&ue(i)&&(s||(s="anonymous"),o=pe(i)),this.crossOrigin=s,this.crossOriginUrl=o;var n=document.createElement("img");s&&(n.crossOrigin=s),n.src=o||i,n.alt=a.alt||"The image to crop",this.image=n,n.onload=this.start.bind(this),n.onerror=this.stop.bind(this),I(n,ie),a.parentNode.insertBefore(n,a.nextSibling)}},{key:"start",value:function(){var a=this,i=this.image;i.onload=null,i.onerror=null,this.sizing=!0;var s=K.navigator&&/(?:iPad|iPhone|iPod).*?AppleWebKit/i.test(K.navigator.userAgent),o=function(c,r){T(a.imageData,{naturalWidth:c,naturalHeight:r,aspectRatio:c/r}),a.initialImageData=T({},a.imageData),a.sizing=!1,a.sized=!0,a.build()};if(i.naturalWidth&&!s){o(i.naturalWidth,i.naturalHeight);return}var n=document.createElement("img"),d=document.body||document.documentElement;this.sizingImage=n,n.onload=function(){o(n.width,n.height),s||d.removeChild(n)},n.src=i.src,s||(n.style.cssText="left:0;max-height:none!important;max-width:none!important;min-height:0!important;min-width:0!important;opacity:0;position:absolute;top:0;z-index:-1;",d.appendChild(n))}},{key:"stop",value:function(){var a=this.image;a.onload=null,a.onerror=null,a.parentNode.removeChild(a),this.image=null}},{key:"build",value:function(){if(!(!this.sized||this.ready)){var a=this.element,i=this.options,s=this.image,o=a.parentNode,n=document.createElement("div");n.innerHTML=ii;var d=n.querySelector(".".concat(C,"-container")),u=d.querySelector(".".concat(C,"-canvas")),c=d.querySelector(".".concat(C,"-drag-box")),r=d.querySelector(".".concat(C,"-crop-box")),h=r.querySelector(".".concat(C,"-face"));this.container=o,this.cropper=d,this.canvas=u,this.dragBox=c,this.cropBox=r,this.viewBox=d.querySelector(".".concat(C,"-view-box")),this.face=h,u.appendChild(s),I(a,L),o.insertBefore(d,a.nextSibling),G(s,ie),this.initPreview(),this.bind(),i.initialAspectRatio=Math.max(0,i.initialAspectRatio)||NaN,i.aspectRatio=Math.max(0,i.aspectRatio)||NaN,i.viewMode=Math.max(0,Math.min(3,Math.round(i.viewMode)))||0,I(r,L),i.guides||I(r.getElementsByClassName("".concat(C,"-dashed")),L),i.center||I(r.getElementsByClassName("".concat(C,"-center")),L),i.background&&I(d,"".concat(C,"-bg")),i.highlight||I(h,Ke),i.cropBoxMovable&&(I(h,Pt),wt(h,xt,jt)),i.cropBoxResizable||(I(r.getElementsByClassName("".concat(C,"-line")),L),I(r.getElementsByClassName("".concat(C,"-point")),L)),this.render(),this.ready=!0,this.setDragMode(i.dragMode),i.autoCrop&&this.crop(),this.setData(i.data),U(i.ready)&&W(a,ne,i.ready,{once:!0}),ut(a,ne)}}},{key:"unbuild",value:function(){if(this.ready){this.ready=!1,this.unbind(),this.resetPreview();var a=this.cropper.parentNode;a&&a.removeChild(this.cropper),G(this.element,L)}}},{key:"uncreate",value:function(){this.ready?(this.unbuild(),this.ready=!1,this.cropped=!1):this.sizing?(this.sizingImage.onload=null,this.sizing=!1,this.sized=!1):this.reloading?(this.xhr.onabort=null,this.xhr.abort()):this.image&&this.stop()}}],[{key:"noConflict",value:function(){return window.Cropper=Ni,e}},{key:"setDefaults",value:function(a){T(ce,dt(a)&&a)}}])}();T(Ht.prototype,Ei,Di,_i,Ci,Ti,Mi);const Si={components:{AppLayout:Le,Button:Ae,TabView:Ie,TabPanel:Re},mounted(){console.log("Component mounted.")},data(){return{fullName:"",empPosition:"",profilePictureUrl:"",fields:{empUser:"",empID:"",firstName:"",middleName:"",lastName:"",suffix:"",citizenship:"",birthday:"",placeOfBirth:"",sex:"",civilStatus:"",height:"",weight:"",bloodType:"",zipcode:"",block:"",villsub:"",mobilenum:"",telnum:"",emailadd:"",Region:"",Province:"",City:"",croppedBlob:null,Barangay:"",Region2:"",Province2:"",City2:"",Barangay2:"",zipcode2:"",block2:"",villsub2:""},isEditing:!1,originalFields:{},errorMessage:"",showUpdateDialog:!1,showSuccessDialog:!1,showPhotoSuccessDialog:!1,sexOptions:[],civilStatusOptions:[],bloodTypeOptions:[],extOptions:[],regions:[],provinces:[],cities:[],barangays:[],regions2:[],provinces2:[],cities2:[],barangays2:[],activeTab:0,activeSubTab:"",searchQuery:"",isHovered:!1,isUnblurred:!1,selectedFile:null,empPic:"",cropping:!1,cropper:null,cropperSrc:""}},created(){this.empid=sessionStorage.getItem("empid")||localStorage.getItem("empid")||""},computed:{calculatedAge(){if(!this.fields.birthday)return"";const e=new Date,t=new Date(this.fields.birthday);let a=e.getFullYear()-t.getFullYear();const i=e.getMonth()-t.getMonth();return(i<0||i===0&&e.getDate()<t.getDate())&&a--,a}},methods:{validateName(e){this.fields[e]=this.fields[e].replace(/[0-9]/g,"")},validateMobileNumber(){this.fields.mobilenum=this.fields.mobilenum.replace(/\D/g,"").slice(0,10)},validateTelephoneNumber(){this.fields.telnum=this.fields.telnum.replace(/\D/g,"").slice(0,7)},fetchSexOptions(){fetch("/dropdown/sex-options").then(e=>{if(!e.ok)throw new Error("Failed to fetch sex options");return e.json()}).then(e=>{this.sexOptions=e}).catch(e=>{console.error(e)})},fetchCivilStatusOptions(){fetch("/dropdown/civilstatus-options").then(e=>{if(!e.ok)throw new Error("Failed to fetch civil status options");return e.json()}).then(e=>{this.civilStatusOptions=e}).catch(e=>{console.error(e)})},fetchBloodTypeOptions(){fetch("/dropdown/bloodtype-options").then(e=>{if(!e.ok)throw new Error("Failed to fetch blood type options");return e.json()}).then(e=>{this.bloodTypeOptions=e}).catch(e=>{console.error(e)})},fetchExtOptions(){fetch("/dropdown/ext-options").then(e=>{if(!e.ok)throw new Error("Failed to fetch suffix options");return e.json()}).then(e=>{this.extOptions=e}).catch(e=>{console.error(e)})},fetchFullName(){R.get("/employee/fullname").then(e=>{this.fullName=e.data.fullName,this.empPosition=e.data.empPosition}).catch(e=>{this.errorMessage="Failed to load full name."})},fetchPersonalInfo(){R.get("/employee/PersonalInfo").then(e=>{this.fields.empUser=e.data.empUser,this.fields.empID=e.data.empID,this.fields.firstName=e.data.firstName,this.fields.middleName=e.data.middleName,this.fields.lastName=e.data.lastName,this.fields.suffix=e.data.suffix,this.fields.citizenship=e.data.citizenship,this.fields.birthday=e.data.birthday,this.fields.placeOfBirth=e.data.placeOfBirth,this.fields.sex=e.data.sex,this.fields.civilStatus=e.data.civilStatus,this.fields.height=e.data.height,this.fields.weight=e.data.weight,this.fields.bloodType=e.data.bloodType}).catch(e=>{this.errorMessage="Failed to load personal information."})},fetchAddress(){R.get("/employee/Address").then(e=>{this.fields.zipcode=e.data.zipcode,this.fields.block=e.data.block,this.fields.villsub=e.data.villsub,this.fields.Region=e.data.Region,this.fields.Province=e.data.Province,this.fields.City=e.data.City,this.fields.Barangay=e.data.Barangay,this.fetchProvinces(),this.fetchCities(),this.fetchBarangays()}).catch(e=>{this.errorMessage="Failed to load address."})},fetchAddress2(){R.get("/employee/Address2").then(e=>{this.fields.zipcode2=e.data.zipcode2,this.fields.block2=e.data.block2,this.fields.villsub2=e.data.villsub2,this.fields.Region2=e.data.Region2,this.fields.Province2=e.data.Province2,this.fields.City2=e.data.City2,this.fields.Barangay2=e.data.Barangay2,this.fetchProvinces2(),this.fetchCities2(),this.fetchBarangays2()}).catch(e=>{this.errorMessage="Failed to load address."})},fetchRegions(){R.get("/api/regions").then(e=>{this.regions=e.data}).catch(e=>{console.error("Error fetching regions:",e)})},fetchRegions2(){R.get("/api/regions2").then(e=>{this.regions2=e.data}).catch(e=>{console.error("Error fetching regions:",e)})},fetchProvinces(){R.get("/api/provinces",{params:{reg_psgc:this.fields.Region}}).then((function(e){this.provinces=e.data}).bind(this))},fetchProvinces2(){R.get("/api/provinces2",{params:{reg_psgc:this.fields.Region2}}).then((function(e){this.provinces2=e.data}).bind(this))},fetchCities(){R.get("/api/cities",{params:{prv_psgc:this.fields.Province}}).then((function(e){this.cities=e.data}).bind(this))},fetchCities2(){R.get("/api/cities2",{params:{prv_psgc:this.fields.Province2}}).then((function(e){this.cities2=e.data}).bind(this))},fetchBarangays(){R.get("/api/barangays",{params:{citmun_psgc:this.fields.City}}).then((function(e){this.barangays=e.data}).bind(this))},fetchBarangays2(){R.get("/api/barangays2",{params:{citmun_psgc:this.fields.City2}}).then((function(e){this.barangays2=e.data}).bind(this))},fetchSecurityandContact(){R.get("/employee/SecurityandContact").then(e=>{this.fields.mobilenum=e.data.mobilenum,this.fields.telnum=e.data.telnum,this.fields.emailadd=e.data.emailadd}).catch(e=>{this.errorMessage="Failed to load security and contact information."})},fetchProfilePicture(){R.get("/get-profile-picture").then(e=>{this.profilePictureUrl=e.data.url?e.data.url:"/storage/uploads/profile-pictures/default-profile.png",console.log("Profile Picture URL:",this.profilePictureUrl)}).catch(e=>{console.error("Error fetching profile picture:",e)})},toggleBlur(){this.isUnblurred=!this.isUnblurred},triggerFileUpload(){this.$refs.fileInput.click()},handleFileChange(e){const t=e.target.files[0];if(t){this.originalFileName=t.name;const a=new FileReader;a.onload=i=>{const s=new Image;s.src=i.target.result,s.onload=()=>{this.initCropping(s)}},a.readAsDataURL(t)}},onCroppingComplete(e){this.empid&&e?this.uploadCroppedImage(e,this.empid):console.error("Missing employee ID or cropped image.")},onFileSelected(e){const t=e.target.files[0];if(t){const a=new FileReader;a.onload=i=>{this.cropperSrc=i.target.result,this.cropping=!0,this.$nextTick(()=>{this.initializeCropper()})},a.readAsDataURL(t)}},initializeCropper(){const e=this.$refs.cropperImage;this.cropper=new Ht(e,{aspectRatio:3.5/4.5,viewMode:1})},cropImage(){this.cropper.getCroppedCanvas({width:350,height:450}).toBlob(t=>{this.uploadCroppedImage(t)})},initCropping(e){const t=new Ht(e,{aspectRatio:1,viewMode:1,ready(){console.log("Cropper is ready.")},crop(a){}});this.cropper=t},onCroppingComplete(){this.cropper?this.cropper.getCroppedCanvas().toBlob(e=>{this.uploadCroppedImage(e,this.empid)}):console.error("Cropper instance not found.")},uploadCroppedImage(e,t){const a=new FormData,i=`${t}_image.png`;a.append("file",e,i),R.post("/upload-profile-picture",a,{headers:{"Content-Type":"multipart/form-data"}}).then(s=>{this.profilePictureUrl=s.data.url,this.cropping=!1,this.showPhotoSuccessDialog=!0}).catch(s=>{console.error("Error uploading file:",s)})},cancelCrop(){this.cropping=!1},hidePhotoSuccessDialog(){this.showPhotoSuccessDialog=!1,location.reload()},uploadFile(){if(this.selectedFile){const e=new FormData;e.append("file",this.selectedFile),R.post("/upload-profile-picture",e,{headers:{"Content-Type":"multipart/form-data"}}).then(t=>{this.profilePictureUrl=t.data.url,this.showPhotoSuccessDialog=!0}).catch(t=>{console.error("Error uploading file:",t)})}},hidePhotoSuccessDialog(){this.showPhotoSuccessDialog=!1,location.reload()},toggleEditing(){this.isEditing||(this.originalFields=JSON.parse(JSON.stringify(this.fields))),this.isEditing=!this.isEditing},cancelEditing(){this.fields=JSON.parse(JSON.stringify(this.originalFields)),this.isEditing=!1},confirmUpdate(){this.showUpdateDialog=!0},hideUpdateDialog(){this.showUpdateDialog=!1},hideSuccessDialog(){this.showSuccessDialog=!1,location.reload()},saveProfile(){R.patch("/employee/updateProfile",this.fields).then(()=>{this.isEditing=!1,this.showUpdateDialog=!1,this.showSuccessDialog=!0}).catch(e=>{console.error("Error updating profile:",e)})},search(){const e=this.searchQuery.toLowerCase();e.includes("personal info")?this.activeTab=0:e.includes("address")?this.activeTab=1:e.includes("security")&&(this.activeTab=2)}},mounted(){this.fetchFullName(),this.fetchPersonalInfo(),this.fetchSecurityandContact(),this.fetchAddress(),this.fetchAddress2(),this.fetchProfilePicture()},created(){this.fetchSexOptions(),this.fetchCivilStatusOptions(),this.fetchBloodTypeOptions(),this.fetchExtOptions(),this.fetchRegions(),this.fetchRegions2()}},g=e=>(Be("data-v-3cb06fd1"),e=e(),Ue(),e),Oi={class:"grid w-full grid-cols-1 gap-4 md:grid-cols-2 lg:grid-cols-3"},ki={class:"relative col-span-1"},Ai={class:"relative group"},Ii=["src"],Ri=g(()=>l("i",{class:"fas fa-eye text-white text-4xl"},null,-1)),Pi=[Ri],Bi={class:"col-span-1 md:col-span-2"},Ui={class:"mb-4 text-3xl font-bold lg:text-5xl"},Li={class:"mb-4 text-gray-600"},zi={class:"border-box"},Vi={class:"grid grid-cols-4 gap-4"},Yi={class:"col-span-1"},Hi=g(()=>l("label",{class:"block mb-2 text-sm font-bold text-gray-700"},"USER NAME",-1)),Xi={class:"col-span-1"},Wi=g(()=>l("label",{class:"block mb-2 text-sm font-bold text-gray-700"},"EMPLOYEE ID",-1)),ji=g(()=>l("div",{class:"col-span-1"},null,-1)),Fi=g(()=>l("div",{class:"col-span-1"},null,-1)),Gi=g(()=>l("label",{class:"block mb-2 text-sm font-bold text-gray-700"},"FIRST NAME",-1)),Ki=["disabled"],qi=g(()=>l("label",{class:"block mb-2 text-sm font-bold text-gray-700"},"MIDDLE NAME",-1)),Zi=["disabled"],Qi=g(()=>l("label",{class:"block mb-2 text-sm font-bold text-gray-700"},"LAST NAME",-1)),Ji=["disabled"],$i=g(()=>l("label",{class:"block mb-2 text-sm font-bold text-gray-700"},"SUFFIX",-1)),ta=["disabled"],ea=["value"],ia=g(()=>l("label",{class:"block mb-2 text-sm font-bold text-gray-700"},"CITIZENSHIP",-1)),aa=["disabled"],sa=g(()=>l("label",{class:"block mb-2 text-sm font-bold text-gray-700"},"BIRTHDAY",-1)),oa=["disabled"],ra=g(()=>l("label",{class:"block mb-2 text-sm font-bold text-gray-700"},"PLACE OF BIRTH",-1)),na=["disabled"],la=g(()=>l("label",{class:"block mb-2 text-sm font-bold text-gray-700"},"CIVIL STATUS",-1)),ha=["disabled"],da=["value"],ca=g(()=>l("br",null,null,-1)),fa={class:"tight"},ua={class:"grid grid-cols-5 gap-4"},pa=g(()=>l("label",{class:"block mb-2 text-sm font-bold text-gray-700"},"SEX",-1)),ga=["disabled"],ma=["value"],va=g(()=>l("label",{class:"block mb-2 text-sm font-bold text-gray-700"},"AGE",-1)),ba=["value"],ya=g(()=>l("label",{class:"block mb-2 text-sm font-bold text-gray-700"},"BLOOD TYPE",-1)),xa=["disabled"],wa=["value"],Ea=g(()=>l("label",{class:"block mb-2 text-sm font-bold text-gray-700"},"HEIGHT(M)",-1)),Da=["disabled"],_a=g(()=>l("label",{class:"block mb-2 text-sm font-bold text-gray-700"},"WEIGHT(KG)",-1)),Ca=["disabled"],Ta=g(()=>l("h1",{style:{"font-size":"25px","font-weight":"bold","margin-bottom":"3%","margin-top":"1%"}},"PERMANENT ADDRESS",-1)),Ma={class:"grid grid-cols-1 gap-4 md:grid-cols-4"},Na=g(()=>l("label",{class:"block mb-2 text-sm font-bold text-gray-700"},"REGION",-1)),Sa=["disabled"],Oa=["value"],ka=g(()=>l("label",{class:"block mb-2 text-sm font-bold text-gray-700"},"PROVINCE",-1)),Aa=["disabled"],Ia=["value"],Ra=g(()=>l("label",{class:"block mb-2 text-sm font-bold text-gray-700"},"CITY",-1)),Pa=["disabled"],Ba=["value"],Ua=g(()=>l("label",{class:"block mb-2 text-sm font-bold text-gray-700"},"BARANGAY",-1)),La=["disabled"],za=["value"],Va=g(()=>l("label",{class:"block mb-2 text-sm font-bold text-gray-700"},"ZIP CODE",-1)),Ya=["disabled"],Ha=g(()=>l("label",{class:"block mb-2 text-sm font-bold text-gray-700"},"BLOCK/STREET/PUROK",-1)),Xa=["disabled"],Wa=g(()=>l("label",{class:"block mb-2 text-sm font-bold text-gray-700"},"VILLAGE SUBDIVISION",-1)),ja=["disabled"],Fa=g(()=>l("span",{class:"broken-line"},null,-1)),Ga=g(()=>l("h1",{style:{"font-size":"25px","font-weight":"bold","margin-bottom":"3%","margin-top":"1%"}},"CURRENT ADDRESS",-1)),Ka={class:"grid grid-cols-1 gap-4 md:grid-cols-4"},qa=g(()=>l("label",{class:"block mb-2 text-sm font-bold text-gray-700"},"REGION",-1)),Za=["disabled"],Qa=["value"],Ja=g(()=>l("label",{class:"block mb-2 text-sm font-bold text-gray-700"},"PROVINCE",-1)),$a=["disabled"],ts=["value"],es=g(()=>l("label",{class:"block mb-2 text-sm font-bold text-gray-700"},"CITY",-1)),is=["disabled"],as=["value"],ss=g(()=>l("label",{class:"block mb-2 text-sm font-bold text-gray-700"},"BARANGAY",-1)),os=["disabled"],rs=["value"],ns=g(()=>l("label",{class:"block mb-2 text-sm font-bold text-gray-700"},"ZIP CODE",-1)),ls=["disabled"],hs=g(()=>l("label",{class:"block mb-2 text-sm font-bold text-gray-700"},"BLOCK/STREET/PUROK",-1)),ds=["disabled"],cs=g(()=>l("label",{class:"block mb-2 text-sm font-bold text-gray-700"},"VILLAGE SUBDIVISION",-1)),fs=["disabled"],us={class:"grid grid-cols-1 gap-4 md:grid-cols-2"},ps=g(()=>l("label",{class:"block mb-2 text-sm font-bold text-gray-700"},"MOBILE NUMBER",-1)),gs=["disabled"],ms=g(()=>l("label",{class:"block mb-2 text-sm font-bold text-gray-700"},"TELEPHONE NUMBER",-1)),vs=["disabled"],bs=g(()=>l("label",{class:"block mb-2 text-sm font-bold text-gray-700"},"EMAIL ADDRESS",-1)),ys=["disabled"],xs={key:1,class:"float-right mt-6 space-x-4"},ws={key:0,class:"fixed inset-0 z-50 flex items-center justify-center bg-gray-800 bg-opacity-75"},Es={class:"w-full max-w-lg overflow-hidden transition-all transform bg-white rounded-lg"},Ds={class:"p-4"},_s=g(()=>l("div",{class:"text-center"},[l("i",{class:"mb-4 text-4xl fas fa-exclamation-triangle",style:{color:"red"}}),l("h2",{class:"mb-4 text-xl font-semibold"},"Are you sure you want to update?"),l("p",{class:"mb-4"},"If you are certain, click 'Confirm' to proceed. Otherwise, click 'Cancel' to go back and review the information.")],-1)),Cs={class:"flex justify-center gap-4"},Ts={key:1,class:"fixed inset-0 z-50 flex items-center justify-center bg-gray-800 bg-opacity-75"},Ms={class:"w-full max-w-lg overflow-hidden transition-all transform bg-white rounded-lg"},Ns={class:"p-4"},Ss=g(()=>l("div",{class:"text-center"},[l("i",{class:"mb-4 text-4xl fas fa-check-circle",style:{color:"green"}}),l("h2",{class:"mb-4 text-xl font-semibold"},"Updated Successfully!"),l("p",{class:"mb-4"},"Details have been successfully updated. Press 'Back' to continue.")],-1)),Os={class:"flex justify-center"},ks={key:2,class:"fixed inset-0 z-50 flex items-center justify-center bg-gray-800 bg-opacity-75"},As={class:"w-full max-w-lg overflow-hidden transition-all transform bg-white rounded-lg"},Is={class:"p-4"},Rs={class:"text-center"},Ps=g(()=>l("i",{class:"mb-4 text-4xl fas fa-check-circle",style:{color:"green"}},null,-1)),Bs=g(()=>l("h2",{class:"mb-4 text-xl font-semibold"},"Photo Uploaded Successfully!",-1)),Us={class:"flex justify-center"},Ls={key:3,class:"fixed inset-0 z-50 flex items-center justify-center bg-gray-800 bg-opacity-75"},zs={class:"w-full max-w-lg p-4 overflow-hidden transition-all transform bg-white rounded-lg"},Vs=g(()=>l("h2",{class:"text-xl font-semibold text-center mb-4"},"Crop Your Image",-1)),Ys={class:"crop-container"},Hs=["src"],Xs={class:"flex justify-center mt-4"};function Ws(e,t,a,i,s,o){const n=Dt("Button"),d=Dt("TabPanel"),u=Dt("TabView"),c=Dt("AppLayout");return y(),Jt(c,null,{default:pt(()=>[l("div",Oi,[l("div",ki,[l("div",Ai,[l("img",{alt:"Profile Picture",src:s.profilePictureUrl,class:Pe(["w-full rounded-lg cursor-pointer",{"blur-md":!s.isUnblurred}]),height:"300",width:"300",onClick:t[0]||(t[0]=(...r)=>o.toggleBlur&&o.toggleBlur(...r))},null,10,Ii),l("button",{onClick:t[1]||(t[1]=(...r)=>o.toggleBlur&&o.toggleBlur(...r)),class:"absolute top-0 right-0 m-2 p-2 bg-gray-800 bg-opacity-75 rounded-full"},Pi)]),l("input",{type:"file",ref:"fileInput",onChange:t[2]||(t[2]=(...r)=>o.onFileSelected&&o.onFileSelected(...r)),class:"hidden"},null,544),Q(n,{label:"Upload Photo",class:"w-full py-2 mt-4 text-white rounded-lg bg-gradient-to-r from-pink-500 to-purple-500",onClick:o.triggerFileUpload},null,8,["onClick"])]),l("div",Bi,[l("h1",Ui,B(s.fullName),1),l("p",Li,B(s.empPosition),1),l("div",zi,[Q(u,{activeIndex:s.activeTab,"onUpdate:activeIndex":t[46]||(t[46]=r=>s.activeTab=r),class:"no-background"},{default:pt(()=>[Q(d,{header:"PERSONAL INFO",active:s.activeSubTab==="personal"},{default:pt(()=>[l("div",Vi,[l("div",Yi,[Hi,x(l("input",{type:"text",class:"input-field text-color","onUpdate:modelValue":t[3]||(t[3]=r=>s.fields.empUser=r),disabled:""},null,512),[[k,s.fields.empUser]])]),l("div",Xi,[Wi,x(l("input",{type:"text",class:"input-field text-color","onUpdate:modelValue":t[4]||(t[4]=r=>s.fields.empID=r),disabled:""},null,512),[[k,s.fields.empID]])]),ji,Fi,l("div",null,[Gi,x(l("input",{type:"text",class:"input-field","onUpdate:modelValue":t[5]||(t[5]=r=>s.fields.firstName=r),disabled:!s.isEditing,onInput:t[6]||(t[6]=r=>o.validateName("firstName"))},null,40,Ki),[[k,s.fields.firstName]])]),l("div",null,[qi,x(l("input",{type:"text",class:"input-field","onUpdate:modelValue":t[7]||(t[7]=r=>s.fields.middleName=r),disabled:!s.isEditing,onInput:t[8]||(t[8]=r=>o.validateName("middleName"))},null,40,Zi),[[k,s.fields.middleName]])]),l("div",null,[Qi,x(l("input",{type:"text",class:"input-field","onUpdate:modelValue":t[9]||(t[9]=r=>s.fields.lastName=r),disabled:!s.isEditing,onInput:t[10]||(t[10]=r=>o.validateName("lastName"))},null,40,Ji),[[k,s.fields.lastName]])]),l("div",null,[$i,x(l("select",{class:"input-field","onUpdate:modelValue":t[11]||(t[11]=r=>s.fields.suffix=r),disabled:!s.isEditing},[(y(!0),D(X,null,H(s.extOptions,r=>(y(),D("option",{key:r.value,value:r.value},B(r.label),9,ea))),128))],8,ta),[[Y,s.fields.suffix]])]),l("div",null,[ia,x(l("input",{type:"text",class:"input-field","onUpdate:modelValue":t[12]||(t[12]=r=>s.fields.citizenship=r),disabled:!s.isEditing,onInput:t[13]||(t[13]=r=>o.validateName("citizenship"))},null,40,aa),[[k,s.fields.citizenship]])]),l("div",null,[sa,x(l("input",{type:"date",class:"text-center input-field","onUpdate:modelValue":t[14]||(t[14]=r=>s.fields.birthday=r),disabled:!s.isEditing},null,8,oa),[[k,s.fields.birthday]])]),l("div",null,[ra,x(l("input",{type:"text",class:"input-field","onUpdate:modelValue":t[15]||(t[15]=r=>s.fields.placeOfBirth=r),disabled:!s.isEditing},null,8,na),[[k,s.fields.placeOfBirth]])]),l("div",null,[la,x(l("select",{class:"input-field","onUpdate:modelValue":t[16]||(t[16]=r=>s.fields.civilStatus=r),disabled:!s.isEditing},[(y(!0),D(X,null,H(s.civilStatusOptions,r=>(y(),D("option",{key:r.value,value:r.value},B(r.label),9,da))),128))],8,ha),[[Y,s.fields.civilStatus]])])]),ca,l("div",fa,[l("div",ua,[l("div",null,[pa,x(l("select",{class:"input-field","onUpdate:modelValue":t[17]||(t[17]=r=>s.fields.sex=r),disabled:!s.isEditing},[(y(!0),D(X,null,H(s.sexOptions,r=>(y(),D("option",{key:r.value,value:r.value},B(r.label),9,ma))),128))],8,ga),[[Y,s.fields.sex]])]),l("div",null,[va,l("input",{type:"text",class:"input-field text-color",value:o.calculatedAge,disabled:""},null,8,ba)]),l("div",null,[ya,x(l("select",{class:"input-field","onUpdate:modelValue":t[18]||(t[18]=r=>s.fields.bloodType=r),disabled:!s.isEditing},[(y(!0),D(X,null,H(s.bloodTypeOptions,r=>(y(),D("option",{key:r.value,value:r.value},B(r.label),9,wa))),128))],8,xa),[[Y,s.fields.bloodType]])]),l("div",null,[Ea,x(l("input",{type:"number",step:"0.01",class:"input-field","onUpdate:modelValue":t[19]||(t[19]=r=>s.fields.height=r),disabled:!s.isEditing},null,8,Da),[[k,s.fields.height]])]),l("div",null,[_a,x(l("input",{type:"number",class:"input-field","onUpdate:modelValue":t[20]||(t[20]=r=>s.fields.weight=r),disabled:!s.isEditing},null,8,Ca),[[k,s.fields.weight]])])])])]),_:1},8,["active"]),Q(d,{header:"ADDRESS",active:s.activeSubTab==="address"},{default:pt(()=>[Ta,l("div",Ma,[l("div",null,[Na,x(l("select",{class:"input-field","onUpdate:modelValue":t[21]||(t[21]=r=>s.fields.Region=r),disabled:!s.isEditing,onChange:t[22]||(t[22]=r=>o.fetchProvinces())},[(y(!0),D(X,null,H(s.regions,(r,h)=>(y(),D("option",{key:h,value:r.reg_psgc},B(r.col_region),9,Oa))),128))],40,Sa),[[Y,s.fields.Region]])]),l("div",null,[ka,x(l("select",{class:"input-field","onUpdate:modelValue":t[23]||(t[23]=r=>s.fields.Province=r),disabled:!s.isEditing,onChange:t[24]||(t[24]=r=>o.fetchCities())},[(y(!0),D(X,null,H(s.provinces,(r,h)=>(y(),D("option",{key:h,value:r.prv_psgc},B(r.col_province),9,Ia))),128))],40,Aa),[[Y,s.fields.Province]])]),l("div",null,[Ra,x(l("select",{class:"input-field","onUpdate:modelValue":t[25]||(t[25]=r=>s.fields.City=r),disabled:!s.isEditing,onChange:t[26]||(t[26]=r=>o.fetchBarangays())},[(y(!0),D(X,null,H(s.cities,(r,h)=>(y(),D("option",{key:h,value:r.citmun_psgc},B(r.col_citymuni),9,Ba))),128))],40,Pa),[[Y,s.fields.City]])]),l("div",null,[Ua,x(l("select",{class:"input-field","onUpdate:modelValue":t[27]||(t[27]=r=>s.fields.Barangay=r),disabled:!s.isEditing},[(y(!0),D(X,null,H(s.barangays,(r,h)=>(y(),D("option",{key:h,value:r.brgy_psgc},B(r.col_brgy),9,za))),128))],8,La),[[Y,s.fields.Barangay]])]),l("div",null,[Va,x(l("input",{type:"text",class:"input-field","onUpdate:modelValue":t[28]||(t[28]=r=>s.fields.zipcode=r),disabled:!s.isEditing},null,8,Ya),[[k,s.fields.zipcode]])]),l("div",null,[Ha,x(l("input",{type:"text",class:"input-field","onUpdate:modelValue":t[29]||(t[29]=r=>s.fields.block=r),disabled:!s.isEditing},null,8,Xa),[[k,s.fields.block]])]),l("div",null,[Wa,x(l("input",{type:"text",class:"input-field","onUpdate:modelValue":t[30]||(t[30]=r=>s.fields.villsub=r),disabled:!s.isEditing},null,8,ja),[[k,s.fields.villsub]])])]),Fa,Ga,l("div",Ka,[l("div",null,[qa,x(l("select",{class:"input-field","onUpdate:modelValue":t[31]||(t[31]=r=>s.fields.Region2=r),disabled:!s.isEditing,onChange:t[32]||(t[32]=r=>o.fetchProvinces2())},[(y(!0),D(X,null,H(s.regions2,(r,h)=>(y(),D("option",{key:h,value:r.reg_psgc},B(r.col_region),9,Qa))),128))],40,Za),[[Y,s.fields.Region2]])]),l("div",null,[Ja,x(l("select",{class:"input-field","onUpdate:modelValue":t[33]||(t[33]=r=>s.fields.Province2=r),disabled:!s.isEditing,onChange:t[34]||(t[34]=r=>o.fetchCities2())},[(y(!0),D(X,null,H(s.provinces2,(r,h)=>(y(),D("option",{key:h,value:r.prv_psgc},B(r.col_province),9,ts))),128))],40,$a),[[Y,s.fields.Province2]])]),l("div",null,[es,x(l("select",{class:"input-field","onUpdate:modelValue":t[35]||(t[35]=r=>s.fields.City2=r),disabled:!s.isEditing,onChange:t[36]||(t[36]=r=>o.fetchBarangays2())},[(y(!0),D(X,null,H(s.cities2,(r,h)=>(y(),D("option",{key:h,value:r.citmun_psgc},B(r.col_citymuni),9,as))),128))],40,is),[[Y,s.fields.City2]])]),l("div",null,[ss,x(l("select",{class:"input-field","onUpdate:modelValue":t[37]||(t[37]=r=>s.fields.Barangay2=r),disabled:!s.isEditing},[(y(!0),D(X,null,H(s.barangays2,(r,h)=>(y(),D("option",{key:h,value:r.brgy_psgc},B(r.col_brgy),9,rs))),128))],8,os),[[Y,s.fields.Barangay2]])]),l("div",null,[ns,x(l("input",{type:"text",class:"input-field","onUpdate:modelValue":t[38]||(t[38]=r=>s.fields.zipcode2=r),disabled:!s.isEditing},null,8,ls),[[k,s.fields.zipcode2]])]),l("div",null,[hs,x(l("input",{type:"text",class:"input-field","onUpdate:modelValue":t[39]||(t[39]=r=>s.fields.block2=r),disabled:!s.isEditing},null,8,ds),[[k,s.fields.block2]])]),l("div",null,[cs,x(l("input",{type:"text",class:"input-field","onUpdate:modelValue":t[40]||(t[40]=r=>s.fields.villsub2=r),disabled:!s.isEditing},null,8,fs),[[k,s.fields.villsub2]])])])]),_:1},8,["active"]),Q(d,{header:"SECURITY & CONTACT DETAILS",active:s.activeSubTab==="security"},{default:pt(()=>[l("div",us,[l("div",null,[ps,x(l("input",{type:"text",class:"input-field","onUpdate:modelValue":t[41]||(t[41]=r=>s.fields.mobilenum=r),maxlength:"9",onInput:t[42]||(t[42]=(...r)=>o.validateMobileNumber&&o.validateMobileNumber(...r)),disabled:!s.isEditing},null,40,gs),[[k,s.fields.mobilenum]])]),l("div",null,[ms,x(l("input",{type:"text",class:"input-field","onUpdate:modelValue":t[43]||(t[43]=r=>s.fields.telnum=r),maxlength:"7",onInput:t[44]||(t[44]=(...r)=>o.validateTelephoneNumber&&o.validateTelephoneNumber(...r)),disabled:!s.isEditing},null,40,vs),[[k,s.fields.telnum]])]),l("div",null,[bs,x(l("input",{type:"text",class:"input-field","onUpdate:modelValue":t[45]||(t[45]=r=>s.fields.emailadd=r),disabled:!s.isEditing},null,8,ys),[[k,s.fields.emailadd]])])])]),_:1},8,["active"])]),_:1},8,["activeIndex"])]),s.isEditing?lt("",!0):(y(),Jt(n,{key:0,label:"UPDATE",class:"float-right px-8 py-2 mt-6 text-white bg-green-500 rounded-lg update-button",onClick:o.toggleEditing},null,8,["onClick"])),s.isEditing?(y(),D("div",xs,[Q(n,{label:"CANCEL",class:"px-8 py-2 text-white rounded-lg custom-cancel-button",onClick:o.cancelEditing},null,8,["onClick"]),Q(n,{label:"SAVE",class:"px-8 py-2 text-white bg-blue-500 rounded-lg update-button",onClick:o.confirmUpdate},null,8,["onClick"])])):lt("",!0)])]),s.showUpdateDialog?(y(),D("div",ws,[l("div",Es,[l("div",Ds,[_s,l("div",Cs,[l("button",{onClick:t[47]||(t[47]=(...r)=>o.hideUpdateDialog&&o.hideUpdateDialog(...r)),class:"px-4 py-2 text-gray-700 bg-gray-300 rounded hover:bg-gray-400"}," Cancel "),l("button",{onClick:t[48]||(t[48]=(...r)=>o.saveProfile&&o.saveProfile(...r)),class:"px-4 py-2 text-white bg-red-600 rounded hover:bg-red-700"}," Confirm ")])])])])):lt("",!0),s.showSuccessDialog?(y(),D("div",Ts,[l("div",Ms,[l("div",Ns,[Ss,l("div",Os,[l("button",{onClick:t[49]||(t[49]=(...r)=>o.hideSuccessDialog&&o.hideSuccessDialog(...r)),class:"px-4 py-2 text-white bg-blue-600 rounded hover:bg-blue-700"}," OK ")])])])])):lt("",!0),s.showPhotoSuccessDialog?(y(),D("div",ks,[l("div",As,[l("div",Is,[l("div",Rs,[Ps,Bs,l("div",Us,[l("button",{onClick:t[50]||(t[50]=(...r)=>o.hidePhotoSuccessDialog&&o.hidePhotoSuccessDialog(...r)),class:"px-4 py-2 text-white bg-blue-600 rounded hover:bg-blue-700"}," OK ")])])])])])):lt("",!0),s.cropping?(y(),D("div",Ls,[l("div",zs,[Vs,l("div",Ys,[l("img",{ref:"cropperImage",src:s.cropperSrc,alt:"Cropper Image"},null,8,Hs)]),l("div",Xs,[Q(n,{label:"Crop",onClick:o.cropImage,class:"bg-blue-500 text-white mr-4"},null,8,["onClick"]),Q(n,{label:"Cancel",onClick:o.cancelCrop,class:"bg-red-500 text-white"},null,8,["onClick"])])])])):lt("",!0)]),_:1})}const Ks=ze(Si,[["render",Ws],["__scopeId","data-v-3cb06fd1"]]);export{Ks as default};
